(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),c=a.n(i),s=a(8),o=a(45),l=a(23),d=a(6),u=a.n(d),j=a(11),p=a(368),b=a(390),h=a(369),x=a(12),m=a(24),f=a(3),O=a(349),g=a(351),v=a(386),w=a(350),k=a(40),S=a(315),y=a(345),C=a(190),B=a.n(C),N=a(352),A=a(356),I=a(188),L=a.n(I),D=a(189),F=a.n(D),W=a(186),M=a.n(W),E=a(187),R=a.n(E),z="&app-token",q="&id-usuario",T="&nome-usuario",P="&color-agree",G="&user-type",U="&graphic-dara",H="&profile-link",V="&menu-user",_="&count-attendance",Q="&notif-user",X=function(e){sessionStorage.setItem(z,e)},J=function(){return sessionStorage.getItem(z)},K=function(){document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/")})),sessionStorage.clear(),window.location.href="/admin/login"},Z=function(e){return sessionStorage.setItem(q,e)},Y=function(){return sessionStorage.getItem(q)},$=function(e){return sessionStorage.setItem(T,e)},ee=function(){return sessionStorage.getItem(T)},te=function(e){var t=JSON.stringify(e);localStorage.setItem(U,t)},ae=function(e){return sessionStorage.setItem(G,e)},ne=function(){return sessionStorage.getItem(G)},re=function(e){return sessionStorage.setItem(H,e)},ie=function(){return sessionStorage.getItem(H)},ce=function(e){return localStorage.setItem(P,e)},se=function(){return localStorage.getItem(P)},oe=function(e){return localStorage.setItem(V,e)},le=function(){return localStorage.getItem(V)},de=function(){return localStorage.getItem(_)},ue=function(){return localStorage.setItem(_,"0")},je=function(e){return sessionStorage.setItem(Q,e)},pe=function(){return sessionStorage.getItem(Q)},be=a(354),he=a(355),xe=a(353),me=a(346),fe=a(347),Oe=a(185),ge=a.n(Oe),ve=a(348),we=a(310),ke=a(343),Se=a(344),ye=a(181),Ce=a.n(ye),Be=a(183),Ne=a.n(Be),Ae=a(182),Ie=a.n(Ae),Le=a(137),De=a.n(Le),Fe=a(184),We=a.n(Fe),Me=a(132),Ee=a.n(Me),Re=a(1),ze=function(){var e=Object(l.useHistory)(),t=function(t){return Object(Re.jsx)("div",{children:Object(Re.jsxs)(we.a,{component:"a",button:!0,onClick:function(a){e.push(t.link)},children:[Object(Re.jsx)(ke.a,{children:t.icon}),Object(Re.jsx)(Se.a,{primary:t.name})]})})};return Object(Re.jsxs)("div",{children:[Object(Re.jsx)(t,{link:"/admin",name:"Dashboard",icon:Object(Re.jsx)(Ce.a,{})}),Object(Re.jsx)(t,{link:"/admin/pedidos",name:"Pedidos",icon:Object(Re.jsx)(Ie.a,{})}),"3"==ne()||"2"==ne()?Object(Re.jsx)(t,{link:"/admin/contatos",name:"Contatos",icon:Object(Re.jsx)(De.a,{})}):Object(Re.jsx)(Re.Fragment,{}),"3"==ne()?Object(Re.jsx)(t,{link:"/admin/funcionarios",name:"Funcion\xe1rios",icon:Object(Re.jsx)(Ne.a,{})}):Object(Re.jsx)(Re.Fragment,{}),Object(Re.jsx)(t,{link:"/admin/whatsapp",name:"WhatsApp",icon:Object(Re.jsx)(Ee.a,{})}),"3"==ne()?Object(Re.jsx)(t,{link:"/admin/sessions",name:"Sess\xf5es",icon:Object(Re.jsx)(We.a,{})}):Object(Re.jsx)(Re.Fragment,{})]})},qe=(Re.Fragment,a(357)),Te=a(191),Pe=a.n(Te);function Ge(e){var t=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}))(),a=r.a.useState("true"==le()),n=Object(s.a)(a,2),i=n[0],c=n[1],o=r.a.useState(!1),l=Object(s.a)(o,2),d=l[0],u=l[1],j=r.a.useState("true"==pe()),p=Object(s.a)(j,2),b=p[0],h=p[1],C=function(){u(!1)};return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(me.a,{position:"absolute",className:Object(f.a)(t.appBar,i&&t.appBarShift),children:Object(Re.jsxs)(fe.a,{className:t.toolbar,children:[Object(Re.jsx)(ve.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){oe("true"),c(!0)},className:Object(f.a)(t.menuButton,i&&t.menuButtonHidden),children:Object(Re.jsx)(ge.a,{})}),Object(Re.jsx)(k.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:e.name}),Object(Re.jsx)(ve.a,{color:"inherit",onClick:function(){1==b?(je("false"),h(!1)):(je("true"),h(!0))},children:b?Object(Re.jsx)(M.a,{}):Object(Re.jsx)(R.a,{})}),Object(Re.jsx)(ve.a,{color:"inherit",onClick:function(){"dark"==se()?ce("light"):ce("dark"),window.location.reload()},children:"light"==se()?Object(Re.jsx)(L.a,{}):Object(Re.jsx)(F.a,{})}),Object(Re.jsx)(ve.a,{color:"inherit",children:Object(Re.jsx)(v.a,{src:ie()})})]})}),Object(Re.jsxs)(O.a,{variant:"permanent",classes:{paper:Object(f.a)(t.drawerPaper,!i&&t.drawerPaperClose)},open:i,children:[Object(Re.jsxs)("div",{className:t.toolbarIcon,children:[Object(Re.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAAyCAYAAADbYdBlAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAMGElEQVR4Xu1dCXRN1xr+75gJEVNNMQY1k5iltdAu9MXUp7oM7eJVBW2VGqpdz1IWitWaqkofqk9rerqqrAg11kwkqJkgFUOEiCZkusN5379vzs1N3Grk3vTkpGevtdc9d5+9/733d7777+F8O9GRAiHH/rgskSShantu9XzNgT/la9eWuUt71pbrnrGAa51/dO1qsqB9d/V50gZ3zZft8afrNef9o7pc++Ka52lt8/SZcHm5jfzJ342I+mcF5BmfofvsX18PS8uxp4OEWvi7I6D/uwOg9V9ZBJQioCKeV1motdrdIaARUOOFoggoRUBFO61VXnIQUIqA3ljVlhwUtZYUGQFeCmvhGRFISyKKnu4rSoUNslDIizayZhP98AHSsLHUvJ+FMlL0dPWggf4xPZvKVJbo2mE9xawxU/ioHIrfb6Sk8/l/+816W6jpKzZhM3qGmdLu6Kn1QAs17OpIiz9goNi1JnGtMxBVbmCj0IFWCqym7t+yUh7wGR95ycput+koPVlPj+7rKDEObEBIuoDvyY50S4aOGvcACR8SxW4wkt0uUdxGM/kF2alGSzs17GalNkMsIvoFSaJMQCUHkVJv6OjWaSNZsnR0ZW+ef7BkksjXpJeVmkVYRL1755tLFjBFaI1GwCKAJhepUMdOt884IOTPivguh4CKRC37Wyn+FyOd+p+ZHibqqMO/LOJ2taZ2qh9uI71BouRLemre10J12jnKXtlvILO/RK0G5NCdc3pKv5e/gcFhNmrS04a6JEq7q/7NBI2AHhDwuUZ2ynyop9REojtnjVS1SR4B2WzzPhbyh4eL22gSQ2mVkLzh8gE83S9LzFS9hZ3aDskRrZDwcugqhudKIXYKrO54eXDtYP5Z0v4vzbR5kg/qM1C9zo7hWc1BI6AHT698sJ38K0iUcMxI96/pxPDqGkw+OmryilUkNQMZ5ZD9iGjnXB/yK0fUbXw2PKHDkyWdM9BjzB1v/2qgHTMdc8z4XxxDvBwqg5x1O9kwt8yi8Mg8mx50Q9Gi2iLEA/h14E1wqJXObDGSX6BEQbWe9EgmH0cFBlOe99uzwEzpSXrqHJlNaUk6RBJzwSsgm8Es0cAvM8kE/p2NMlLcejOlJOQNtY17WKl8DXUvPFwhV4qA6p+85KIYHGqjS7tMmMNZiQlZmHD7jMOrHVqey05cN43IoetHjFSztY0CKjishLxgFQSMx7ywXNXSQzpXjAoJWWFgLXweiBEeQ4zgX/gSWs7SioBSc0Cl6i2tz1G1/VKKCIp4XtU+pVLccI2ApfjhqqFrGgHV8JRKcRuNR44cqZvbP8eLRkeQl1wFJd+u0m/O9zQZuHyPSc6RV9xs15SUFrVR0lkicB1YSGzTke8a4k3ENES8eSXeBOONNzm6ttmdPJ6XntxH3mDj5adf7ienyZttvI/CG3ey7YLyde4Dv//iyNeyvFyWnMt95e9si3eY5bbKezSch+vjT66bbfGCDLuCVCY35i2P8wPEdo8h3kD8PbedbNe1nWyX28Xtk/s7OL+ZfN+2cJ/Lly+fUqZMmRSX9jBO8i6JK86ueMtHKNx9ypUU5BKnc5rcV/EAn2bIk3vuGl7YDrjWWxQAPGm3Gsp6C1vuq33x4sUznkLSYrsl/4qLqwJvLTa8Zae4+qmEXW9hInuoDCU6odQcUIm+anW6R0AmcpYSAGkEVAL1klmnIi+WNQKWTDL81a1iL6iItEZVBKxXrx5dv36dLl++TFWrVhUP6c033xRpNWrUoMGDB4trjvXr1xf3u3Tp4kxr1aqV88Gyrb1791JWVhb99ttvNGzYMOc9LnP48GF6/PgxJSQk0Keffko+Po6FKSbrTntyXdOmTXsije/t2LHjryaSJ/Up8rJZKTFCkYAymfDSv04dUfaTTz6hUaNGUdmyZUWa0Wh0XttsNurWrRtdvXqVevToQcHBwWQwGJwk4vKLFi2iFi1aiHzjxo2jFStW0J49eyggIIB27txJ27ZtE+TlPEuXLhXpY8eOpcqVK1NQUBBFRkY6+8Bku3jxoqjj+++/py1bttDatWvp9995p0Q1QRECMjpq2HIQbWzUqBE0m5KEvUvJarVKjRs3lt555x2RVrt2bQmkENexsbHSunXrRJmjR49KJ06cEOnt27d39vXnn3+WLBaL9Prrr0vwplLLli0lkFlasGCBZIeGvmLFis6833zzjZSTkyOB5MLu3bt3pcDAQGeUMQQBRT3wmKrBVG47PPtIJX4qqhqCZYC+/fZb4d3mzJkjVMQFw6FDh4RnA0moTZs2dODAgSfyTJw4kS5cuEDr16+n+Ph4Gjp0KD169Ih4aE5JSRFRDpcuXSL2vuxJOVSpUoUePnzojOz5tFA0BFRJQCbdlClTqE+fPtSpU6cner5r1y5BktGjRwuSnDx5Ml8eHYR7PO9r27Yt8byQ54JMyN69e9PNmzfFEIu3As4ytWrVIh7Wb9++LdLu379Pzz//vDPyPS0UDQFVEpC7+uOPP4qFwqBBg57oOS9S2ENOnjyZMNQK8rgG9li8uGBP+eDBA9q9e7e4zQuNNWvWkF6vp88++4wwDFPXrl1pyJAhtGHDBsrO5rdqeG9ltRJ7RTkWDXqtFCOgWgJy4ydNmiTIUjCwh4yKihKezN1KlAnEq15eOd+4cYPmz58vFg+bN28mzBnpjTfeoH79+glPxwSOjo6md999V2NMMSGgugkzcPBKm0FeqXr16hKGW7f2MIxLZjMOaXipvpJsR6lFiKq2Ybz9A8Rq1zmvc2c7OTnZ21Vq9gogoOohWHua6kdAI6D6n6G3eqDIRrRGQG89PnXbUYR8DBnPAVnY6C1tmbvH4IltxYBRN5/+tPWykts1o4b1n8KmZdAQ0BDQENAQ0BDQENAQ0BDQENAQ0BDQENAQ8AQBT7ZIPKm3WMoOHz58EcSj70O98h9Isb44depUGN7n3oXype5LL70UDYXLx1AqjxgzZszneP+b/t57781Zvnz5BxCzJjRs2PAClM0NIFLYuHr16oEQsbZbsmTJxLfeemvxypUrx0KqtRH2VzRr1ix2woQJX86ePXvCpk2bhqamplbs37//xpCQkPOzZs2azVta4eHh+yCW/RUih49QfzJkX0djYmI6QAJWF9KuhBEjRnwFOzcgrG26atWqSBwKT4W6e+GdO3dqoG4hDB05cuQX58+fbwEhRG8ocYZNnz59Io4PBEDsOp3vv/rqq2srVaqUEhoaGsP2UdeHENRm9OrVa1vfvn2jiwXgYjBaqjaiIbvyhbYvDAICKzSAbUGi9pBT7YJCul1cXFx7yK1ycD8UZz3K1KxZM/Hs2bNhSUlJ1Y8fP94RZG3ToEGDy4wxpPRBUMnUhpKmE0ghVKiZmZkBBw8e7Hrs2LEXUY9Penp6IAjUCcTeDtlWEog/JiIiYuuyZcve/+6774ZBSfNcuXLl0gYMGLDu5Zdf3gql9cdQYJsWLlz4EZOPbc6dO3cqiDUFP5bPQeQK8+bNmzpz5szJU6dO/RA/ln9zO6BnDDp37lw1kLH5vXv3qsgcSEtLC+zevftu9LMDiFm2WrVqqag/ChK1F4qBJ8VmslQRMCwsLPann34aACnVJpzRaOrr65uNMxw5fn5+WUwwpP+wdevWf0IlfRx5j4NgEfB8l0Ao45UrVxp37tz5lIw0dIb/hfJ6JO6JP1nCNkBCfyYyCHQGki8TFNnjT58+HQpV9XBI9lGdrzjcDfW0hW1mZGQEQMRaC+Xc/mNGEMeXfywol+nv758BmZgR39lQFrSH/KcxdPBwsdAojsRxhIuuLICQQo8jArbExMRGuDbdunWr6fbt2wd27NgxptjYUgyGSxUBmViQ34e3a9fuKB5MMA4UnWbMWrduHcffMVQd279/fxecDTkCsp2BB+uIofIce0P2TpwXyuhZ/ODhvdJ79uy5Dec/nF4H9k6BaD5MbFZV8xANQWslyPiv4UTeahxsisTwvhC2D+I4QBqnv/baa1EYdvnv2XAQZ28hpu2BdoZieP8aw/kXM2bMmAd7+rfffnsZDkh9hTYsx/mWpdwO9Clm37593aH85nMFdi6Lw1Ptmdw4PNUbxDwPWZkeCu0T48ePn4YfYK9i4IlmUkNAQ0BDQEPA6wj8H1bEGBviSepAAAAAAElFTkSuQmCC"}),Object(Re.jsx)(ve.a,{onClick:function(){oe("false"),c(!1)},children:Object(Re.jsx)(B.a,{})})]}),Object(Re.jsx)(w.a,{}),Object(Re.jsx)(g.a,{children:Object(Re.jsx)(ze,{})}),Object(Re.jsx)(w.a,{}),Object(Re.jsx)(g.a,{children:Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(N.a,{open:d,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Re.jsx)(xe.a,{id:"alert-dialog-title",children:"Deseja sair?"}),Object(Re.jsx)(be.a,{children:Object(Re.jsx)(he.a,{id:"alert-dialog-description",children:"Voc\xea ser\xe1 redirecionado para a p\xe1gina de Login."})}),Object(Re.jsxs)(A.a,{children:[Object(Re.jsx)(S.a,{onClick:C,color:"primary",children:"Cancelar"}),Object(Re.jsx)(S.a,{onClick:function(){K()},color:"primary",autoFocus:!0,children:"Sair"})]})]}),Object(Re.jsxs)("div",{children:[Object(Re.jsx)(qe.a,{inset:!0,children:"Op\xe7\xf5es r\xe1pidas"}),Object(Re.jsxs)(we.a,{button:!0,onClick:function(){u(!0)},children:[Object(Re.jsx)(ke.a,{children:Object(Re.jsx)(Pe.a,{})}),Object(Re.jsx)(Se.a,{primary:"Sair"})]})]})]})})]})]})}var Ue=a(114),He=a.n(Ue),Ve=a(358);var _e=function(){return Object(Re.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Re.jsx)(Ve.a,{target:"_new_blank",color:"inherit",href:"https://nmsoft.com.br/",children:"Nm Soft"})," ",(new Date).getFullYear(),""]})},Qe=a(118),Xe=a.n(Qe);var Je=function(e){switch(e){case 1:return"Funcion\xe1rio";case 2:return"Gerente";case 3:return"Administrador"}},Ke=a(371),Ze=a(195),Ye=a.n(Ze),$e=a(138),et=a.n($e),tt=a(387),at=a(359),nt=a(194),rt=a.n(nt),it=a(192),ct=a.n(it),st=J(),ot=window.location.port;"https:"==window.location.protocol&&""==ot&&(ot="443"),"http:"==window.location.protocol&&""==ot&&(ot="80");var lt="".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(ot),dt=ct()(lt,{query:{token:st}}),ut=a(165),jt=a(193),pt=a.n(jt),bt=window.location.port;"https:"==window.location.protocol&&""==bt&&(bt="443"),"http:"==window.location.protocol&&""==bt&&(bt="80");var ht="".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(bt),xt=pt.a.create({baseURL:ht}),mt=a(391),ft=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),i=a[0],c=a[1],o=r.a.useState(null),l=Object(s.a)(o,2),d=l[0],p=l[1],b="s"==e.mobile?"5%":"0%",h=Boolean(d),x=h?"simple-popover":void 0;return Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)("form",{id:"form",onSubmit:function(){var t=Object(j.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.number.chatId&&i&&(n="".concat(i," "),c(""),dt.emit("sendMessage",{numbers:e.number.chatId.replace("@c.us",""),worker:e.worker,messages:n}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(Re.jsxs)(ut.a,{container:!0,style:{marginTop:"1%"},children:["s"==e.mobile?Object(Re.jsx)(Re.Fragment,{}):Object(Re.jsxs)(ut.a,{item:!0,xs:1,align:"center",children:[Object(Re.jsx)(at.a,{color:"primary",component:"span",onClick:function(e){p(e.currentTarget)},children:Object(Re.jsx)(rt.a,{color:"inherit"})}),Object(Re.jsx)(mt.a,{id:x,open:h,anchorEl:d,onClose:function(){p(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:Object(Re.jsx)(et.a,{onEmojiClick:function(e,t){c(i+""+t.emoji)},disableAutoFocus:!0,preload:!0,disableSearchBar:!0,skinTone:$e.SKIN_TONE_MEDIUM_DARK,native:!1,groupNames:{smileys_people:"SORRISOS E PESSOAS",animals_nature:"ANIMAIS E NATUREZA",food_drink:"COMIDAS E BEBIDAS",travel_places:"VIAGEM E LUGARES",activities:"ATIVIDADES",objects:"OBJETOS",symbols:"S\xcdMBOLOS",flags:"BANDEIRAS",recently_used:"MAIS USADOS"},groupVisibility:{flags:!1}})})]}),e.number.firstAttendace?Object(Re.jsx)(ut.a,{item:!0,xs:"s"==e.mobile?9:10,align:"center",children:Object(Re.jsx)(tt.a,{id:"outlined-basic-email",variant:"outlined",value:i,onChange:function(e){return c(e.target.value)},label:"Digite aqui...",fullWidth:!0,disabled:!0})}):Object(Re.jsx)(ut.a,{item:!0,xs:10,children:Object(Re.jsx)(tt.a,{id:"outlined-basic-email",variant:"outlined",value:i,onChange:function(e){return c(e.target.value)},label:"Digite aqui...",fullWidth:!0})}),Object(Re.jsxs)(ut.a,{xs:1,align:"center",children:[Object(Re.jsx)("input",{style:{display:"none",marginLeft:b},id:"envi",type:"submit"}),Object(Re.jsx)("label",{htmlFor:"envi",children:Object(Re.jsx)(at.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(Re.jsx)(Ye.a,{color:"inherit"})})})]})]})})})},Ot=a(117),gt=a.n(Ot),vt=a(116),wt=a.n(vt),kt="dark"==se()?"#006161":"#DCF8C6",St="dark"==se()?"#3c3c3e":"#FFFFFF",yt="dark"==se()?"wall-dark":"wall-light",Ct=Object(y.a)((function(e){var t,a;return a={root:{display:"flex",overflow:"hidden",width:"100vw"},fila:{zIndex:999,position:"relative"},drawerPaper:{width:300},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({alignItems:"left",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:0},menuButtonHidden:{display:"none"},title:{flexGrow:1}},Object(x.a)(a,"drawerPaper",{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}),Object(x.a)(a,"card",{display:"flex",marginTop:"3px",height:"calc(91.05vh - 100px)",width:"98%"}),Object(x.a)(a,"rightBorder",{borderRight:"solid #d0D0D0 1px"}),Object(x.a)(a,"content",{marginTop:0}),Object(x.a)(a,"background",{position:"absolute",height:200,width:"100%",top:0,background:"#7159C1"}),Object(x.a)(a,"rightContainer",{backgroundImage:"url(/".concat(yt,".png)"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",flex:1}),Object(x.a)(a,"heightAdjust",{display:"flex",maxHeight:"98%",flexDirection:"column"}),Object(x.a)(a,"paper",{background:"#9de1fe"}),Object(x.a)(a,"information",{color:"#444"}),Object(x.a)(a,"drawerPaperClose",Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)})),Object(x.a)(a,"list",{width:"100%",paddingLeft:15}),Object(x.a)(a,"content",{flexGrow:1,marginTop:"2%",width:"100%",height:"auto",display:"flex",flexDirection:"column-reverse",overflow:"auto"}),Object(x.a)(a,"container",{marginTop:"calc(3vh + 1vw)",paddingBottom:"calc(3vh - 1vw)"}),Object(x.a)(a,"paper",{padding:"0"}),Object(x.a)(a,"warnings",{background:"#9de1fe",padding:20}),Object(x.a)(a,"fixedHeight",{height:240}),Object(x.a)(a,"sent",{width:"30%",marginTop:"5px",marginBottom:"5px",marginLeft:"70%",backgroundColor:kt}),Object(x.a)(a,"sentImg",{width:"30%",marginTop:"5px",maxHeight:"500px",maxWidth:"500px",marginBottom:"5px",marginLeft:"70%",backgroundColor:kt}),Object(x.a)(a,"received",{width:"30%",marginLeft:"0%",marginTop:"5px",marginBottom:"5px",backgroundColor:St}),Object(x.a)(a,"receivedImg",{width:"30%",maxHeight:"500px",marginTop:"5px",marginBottom:"5px",maxWidth:"500px",marginLeft:"0%",backgroundColor:St}),Object(x.a)(a,"sentVideo",{width:"30%",marginTop:"5px",maxWidth:"500px",marginBottom:"5px",marginLeft:"70%",backgroundColor:kt}),Object(x.a)(a,"receivedVideo",(t={width:"30%",height:"100%"},Object(x.a)(t,"width","100%"),Object(x.a)(t,"maxWidth","500px"),Object(x.a)(t,"marginTop","5px"),Object(x.a)(t,"marginBottom","5px"),Object(x.a)(t,"marginLeft","0%"),Object(x.a)(t,"backgroundColor",St),t)),Object(x.a)(a,"receivedSticker",{width:"30%",maxHeight:"150px",marginTop:"5px",marginBottom:"5px",maxWidth:"150px",marginLeft:"0%",backgroundColor:St}),Object(x.a)(a,"sentSticker",{width:"30%",maxHeight:"150px",marginTop:"5px",marginBottom:"5px",maxWidth:"150px",marginLeft:"70%",backgroundColor:St}),a})),Bt=a(216),Nt=a(197),At=a.n(Nt),It=a(69),Lt=a.n(It),Dt=a(115),Ft=a.n(Dt),Wt=a(367),Mt=a(366),Et=a(77),Rt=a(370),zt=a(389),qt=a(196),Tt=a.n(qt),Pt=a(133),Gt=a.n(Pt),Ut=function(e){return Object(Re.jsxs)(Mt.a,{className:e.classe,children:[Object(Re.jsx)(Wt.a,{style:{marginTop:"2%",marginLeft:"2%"},children:Object(Re.jsx)(Tt.a,{download:!1,autoplay:!1,volume:!1,width:"100%",variation:"default",spacing:3,src:e.src})}),Object(Re.jsx)(k.a,{style:{marginLeft:"3%",marginBottom:"3%"},variant:"subtitle2",children:e.date})]})},Ht=function(e){var t="s"==e.mobile?"80px":"400px";return Object(Re.jsxs)(Mt.a,{className:e.classe,style:{maxHeight:t},children:[Object(Re.jsx)(Wt.a,{style:{},children:Object(Re.jsx)("video",{style:{height:"100%",width:"100%"},src:e.src,controls:"true"})}),Object(Re.jsx)(k.a,{style:{marginLeft:"3%",marginBottom:"3%"},variant:"subtitle2",children:e.date})]})},Vt=function(e){var t="s"==e.mobile?"80px":"400px";return Object(Re.jsxs)(Mt.a,{className:e.classe,style:{maxHeight:t},onClick:function(){window.open(e.src,"_blank")},children:[Object(Re.jsx)("img",{style:{height:"100%",width:"100%"},src:e.src}),Object(Re.jsx)(k.a,{style:{marginLeft:"3%",marginBottom:"3%"},variant:"subtitle2",children:e.date})]})},_t=function(e){return Object(Re.jsxs)(Mt.a,{className:e.classe,children:[Object(Re.jsxs)(k.a,{variant:"button",style:{marginLeft:"3%",marginTop:"3%"},color:"black",display:"inline",gutterBottom:!0,children:[e.author,":"]}),Object(Re.jsx)(Wt.a,{children:Object(Re.jsx)(k.a,{color:"black",variant:"body2",display:"block",children:e.message})}),Object(Re.jsx)(k.a,{style:{marginLeft:"3%",marginBottom:"3%"},variant:"subtitle2",children:e.date})]})},Qt=function(e){e.src;return Object(Re.jsxs)(Mt.a,{className:e.classe,children:[Object(Re.jsxs)("p",{style:{marginLeft:"3%",marginBottom:"3%"},children:["Documento (",e.name,")",Object(Re.jsx)("br",{})]}),Object(Re.jsx)(S.a,{style:{marginLeft:"3%",marginBottom:"5%"},href:e.src,target:"new_blank",children:"Abrir"}),Object(Re.jsx)("br",{}),Object(Re.jsx)(k.a,{style:{marginLeft:"3%",marginBottom:"3%"},variant:"subtitle2",children:e.date})]})},Xt=function(e){var t=r.a.useState("none"),a=Object(s.a)(t,2),n=a[0],i=a[1];return Object(Re.jsxs)(Mt.a,{className:e.classe,children:[Object(Re.jsx)(k.a,{variant:"button",style:{marginLeft:"3%",marginTop:"3%"},color:"black",display:"inline",gutterBottom:!0,children:e.author}),Object(Re.jsxs)(k.a,{onClick:function(e){i("yes"==n?"none":"yes")},gutterBottom:!0,variant:"h5",component:"h2",style:{marginLeft:"5%",marginTop:"2%"},children:[e.amount.replace(".",","),"R$"]}),Object(Re.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p",style:{marginLeft:"5%",marginBottom:"2%"},children:e.note}),Object(Re.jsx)(k.a,{style:{marginLeft:"3%",marginBottom:"3%"},variant:"subtitle2",children:e.date}),"yes"==n?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("hr",{}),Object(Re.jsx)(S.a,{onClick:function(){var t=Object(j.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={numbers:e.message.chatId.replace("@c.us",""),worker:ee(),messages:"Recebido!"},t.next=3,xt.post("/api/whatsapp/message?id=0",n);case 3:i("none");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Recebido!"}),Object(Re.jsx)(S.a,{onClick:function(){var t=Object(j.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={numbers:e.message.chatId.replace("@c.us",""),worker:ee(),messages:"Obrigado!"},t.next=3,xt.post("/api/whatsapp/message?id=0",n);case 3:i("none");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Obrigado!"}),Object(Re.jsx)(S.a,{onClick:function(){var t=Object(j.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={numbers:e.message.chatId.replace("@c.us",""),worker:ee(),messages:"Ok!"},t.next=3,xt.post("/api/whatsapp/message?id=0",n);case 3:i("none");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Ok!"}),Object(Re.jsx)(S.a,{onClick:function(e){i("none")},children:Object(Re.jsx)(Gt.a,{})})]}):Object(Re.jsx)(Re.Fragment,{})]})};function Jt(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)([]),x=Object(s.a)(d,2),m=x[0],f=x[1],O=Object(n.useState)([]),k=Object(s.a)(O,2),y=k[0],C=k[1],B=Object(n.useState)(""),I=Object(s.a)(B,2),L=I[0],D=I[1],F=Object(n.useState)([]),W=Object(s.a)(F,2),M=W[0],E=W[1],R=Object(n.useState)(null),z=Object(s.a)(R,2),q=z[0],T=z[1],P=Object(n.useState)(!1),G=Object(s.a)(P,2),U=G[0],H=G[1],V=Object(n.useState)(!1),_=Object(s.a)(V,2),Q=_[0],X=_[1],K=Object(n.useState)(!1),Z=Object(s.a)(K,2),$=Z[0],te=Z[1],re=Object(n.useState)(!1),ce=Object(s.a)(re,2),se=(ce[0],ce[1]),oe=Object(n.useState)(parseInt(de())),le=Object(s.a)(oe,2),ue=(le[0],le[1],Object(n.useState)([])),je=Object(s.a)(ue,2),pe=je[0],me=je[1];var fe=function(){H(!1),te(!1),X(!1),se(!1)};function Oe(){return(Oe=Object(j.a)(u.a.mark((function e(){var t,a,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(ee()),e.next=3,xt.get("/api/clients/attendance");case 3:for(i in t=e.sent,a=t.data.Client,n=[],a)"3"!=ne()&&"2"!=ne()?("no-one"==a[i].WorkerAttendance||a[i].WorkerAttendance==Y())&&n.push(a[i]):n=a;t?(f(n),C(n),void 0!==t.data.Client[0]||r([{}])):(f([]),C([]));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){try{if(null!=e.lastMessage.body&&void 0!=e.lastMessage.body){var t=new String(e.lastMessage.body);return""+(t="Seu atendimento foi finalizado com sucesso."==(t=t.trim())?"":t)}return""}catch(a){return""}}function ke(e){try{if(null!=e.lastMessage.body&&void 0!=e.lastMessage.body){var t=new Date(e.lastMessage.createdAt).toLocaleTimeString("pt-br").split(":",2);return"".concat(t[0],":").concat(t[1])}return""}catch(a){return""}}function ye(e){var t;e.preventDefault(),t=L?m.filter((function(e){return-1!==e.fullName.toLowerCase().indexOf(L.toLowerCase())})):m,C(t)}Object(n.useEffect)((function(){dt.on("receiveMessages",(function(e){E(e)}))}),[]),Object(n.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers");case 2:for(n in t=e.sent,a=[],t.data.Workers)(r={Name:t.data.Workers[n].nome_usuario,ProfilePic:t.data.Workers[n].foto_perfil,Id:t.data.Workers[n]._id,Type:Je(t.data.Workers[n].tipo_usuario)}).Id!=Y()||(r.Type="Voc\xea"),a.push(r);me(a);case 6:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){!function(){Oe.apply(this,arguments)}(),dt.on("newAttendace",(function(e){dt.emit("requestAttendance")})),dt.on("userChanged",(function(e){dt.emit("requestAttendance")})),dt.on("receiveAttendance",(function(e){var t=e,a=[];for(var n in t)"3"!=ne()?("no-one"==t[n].WorkerAttendance||t[n].WorkerAttendance==Y())&&a.push(t[n]):a=t;f(a),""==L&&C(a)}))}),[]),Object(n.useEffect)((function(){dt.on("newMessage",(function(e){e.from==a.chatId&&dt.emit("requestMessages",{chatId:a.chatId}),dt.emit("requestAttendance")})),dt.on("newMessageSent",(function(e){e.from==a.chatId&&dt.emit("requestMessages",{chatId:a.chatId}),dt.emit("requestAttendance")})),dt.on("newFile",(function(e){e.from==a.chatId&&(dt.emit("requestMessages",{chatId:a.chatId}),H(!1)),dt.emit("requestAttendance")}))}),[a]),Object(n.useEffect)((function(){dt.emit("requestMessages",{chatId:a.chatId})}),[a]);var Ce=Ct();return Object(Re.jsxs)("div",{className:Ce.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"WhatsApp"}),Object(Re.jsxs)("main",{className:Ce.content,children:[Object(Re.jsx)("div",{className:Ce.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"100%",maxHeight:"100%",className:Ce.container,children:[Object(Re.jsx)(ut.a,{children:Object(Re.jsx)(ut.a,{container:!0,className:Ce.fila,children:Object(Re.jsx)(ut.a,{item:!0,xs:12,children:Object(Re.jsx)(Mt.a,{className:Ce.card,children:Object(Re.jsxs)(ut.a,{container:!0,children:[Object(Re.jsxs)(ut.a,{item:!0,xs:3,children:[Object(Re.jsxs)(N.a,{open:Q,onClose:fe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Re.jsx)(xe.a,{id:"alert-dialog-title",children:"Deseja excluir essa conversa?"}),Object(Re.jsx)(be.a,{children:Object(Re.jsx)(he.a,{id:"alert-dialog-description",children:"N\xe3o ser\xe1 poss\xedvel desfazer essa a\xe7\xe3o."})}),Object(Re.jsxs)(A.a,{children:[Object(Re.jsx)(S.a,{onClick:fe,color:"primary",children:"Sair"}),Object(Re.jsx)(S.a,{onClick:Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.chatId){e.next=6;break}return e.next=3,xt.delete("/api/messages/"+a.chatId);case 3:return e.next=5,xt.delete("/api/whatsapp/chats/"+a.chatId+"?id=0");case 5:fe();case 6:case"end":return e.stop()}}),e)}))),color:"primary",autoFocus:!0,children:"Excluir"})]})]}),Object(Re.jsxs)(N.a,{open:$,onClose:fe,children:[Object(Re.jsx)(xe.a,{id:"alert-dialog-title",children:"Deseja transferir essa conversa?"}),Object(Re.jsxs)(be.a,{children:[Object(Re.jsx)(he.a,{children:"Escolha para quem a conversa ser\xe1 transferida."}),pe.map((function(e){return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(we.a,{button:!0,onClick:function(){var t=Object(j.a)(u.a.mark((function t(n){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={worker:e.Id,name:e.Name},t.next=3,xt.patch("/api/clients/first/?_id="+a._id,i);case 3:t.sent,r({}),fe();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(Re.jsx)(v.a,{src:e.ProfilePic}),Object(Re.jsx)(Se.a,{className:Ce.list,primary:e.Name,secondary:e.Type})]}),Object(Re.jsx)(w.a,{})]})}))]}),Object(Re.jsx)(A.a,{children:Object(Re.jsx)(S.a,{onClick:fe,color:"primary",children:"Sair"})})]}),Object(Re.jsx)(Et.a,{elevation:3,style:{marginBottom:"1%"},children:Object(Re.jsx)(Rt.a,{className:Ce.rightBorder,avatar:Object(Re.jsx)(v.a,{"aria-label":"Recipe",className:Ce.avatar,src:ie()})})}),Object(Re.jsxs)(Et.a,{component:"form",onChange:ye,onSubmit:ye,style:{display:"flex",width:"100%",marginBottom:"5px"},children:[Object(Re.jsx)(Bt.a,{className:Ce.input,placeholder:"Pesquisar por contato",value:L,onChangeCapture:function(e){e.target.value?D(e.target.value):(D(""),C(m))},inputProps:{"aria-label":"Pesquisar por contato"},style:{width:"100%",marginLeft:"20px"}}),Object(Re.jsx)(ve.a,{type:"submit",className:Ce.iconButton,"aria-label":"search",children:Object(Re.jsx)(Ft.a,{})}),Object(Re.jsx)(w.a,{className:Ce.divider,orientation:"vertical"})]}),Object(Re.jsx)(Et.a,{elevation:2,children:Object(Re.jsx)(Ke.a,{style:{width:"100%",display:"flex",height:window.innerHeight,flexWrap:"nowrap"},cols:1,cellHeight:window.innerHeight/4.5*m.length,children:Object(Re.jsx)(g.a,{className:Ce.list,children:y.map((function(e){return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(we.a,{button:!0,onClick:function(t){r(e)},children:[Object(Re.jsx)(v.a,{src:e.profileUrl}),Object(Re.jsx)(Se.a,{className:Ce.list,primary:e.fullName,secondary:ge(e)}),e.firstAttendace?Object(Re.jsx)(He.a,{}):Object(Re.jsx)(Re.Fragment,{children:ke(e)})]}),Object(Re.jsx)(w.a,{variant:"inset",component:"li"})]})}))})})})]}),Object(Re.jsxs)(ut.a,{className:Ce.heightAdjust,item:!0,xs:9,children:[Object(Re.jsx)(Et.a,{elevation:5,children:Object(Re.jsx)(Rt.a,{avatar:Object(Re.jsx)(v.a,{"aria-label":"Recipe",className:Ce.avatar,src:a.profileUrl}),action:void 0!=a.WorkerAttendance?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(ve.a,{onClick:function(){te(!0)},children:Object(Re.jsx)(At.a,{})}),a.firstAttendace?Object(Re.jsx)(Re.Fragment,{}):Object(Re.jsx)(ve.a,{onClick:function(){a.chatId&&H(!0)},children:Object(Re.jsx)(wt.a,{})}),a.firstAttendace?Object(Re.jsx)(Re.Fragment,{}):"3"==ne()?Object(Re.jsx)(ve.a,{onClick:function(){X(!0)},children:Object(Re.jsx)(Lt.a,{})}):Object(Re.jsx)(Re.Fragment,{}),Object(Re.jsx)(zt.a,{icon:a.firstAttendace?Object(Re.jsx)(gt.a,{}):Object(Re.jsx)(Xe.a,{}),label:a.firstAttendace?"Atender":"Finalizar",onClick:Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={worker:Y(),name:ee()},void 0===a.firstAttendace){e.next=14;break}if(0!=a.firstAttendace){e.next=9;break}return e.next=5,xt.put("/api/clients/"+a._id,t);case 5:r({}),dt.emit("sendMessage",{numbers:a.chatId.replace("@c.us",""),worker:ee(),messages:"Seu atendimento foi finalizado com sucesso./:end:/Por favor nos avalie com uma nota de 0 a 10."}),e.next=14;break;case 9:return e.next=11,xt.patch("/api/clients/first/?_id="+a._id,t);case 11:(n=a).firstAttendace=!n.firstAttendace,r(n);case 14:case"end":return e.stop()}}),e)}))),clickable:!0})]}):Object(Re.jsx)(Re.Fragment,{}),title:a.fullName,subheader:void 0!=a.WorkerAttendance?"no-one"!=a.WorkerAttendance?"Sendo atendido por: ".concat(a.NameAttendance):"":"attendance@c.us"==a.chatId?"":"Selecione alguma conversa."})}),Object(Re.jsx)(Wt.a,{className:[Ce.rightContainer,Ce.content],style:{marginTop:"0%"},children:Object(Re.jsx)(ut.a,{children:Object(Re.jsx)(Wt.a,{children:M.map((function(e){switch(e.type){case"chat":return function(){var t=1==e.isServer?Ce.sent:Ce.received,a=new String(e.body);return Object(Re.jsx)(_t,{classe:t,author:e.author,message:a,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"image":return function(){var t=1==e.isServer?Ce.sentVideo:Ce.receivedVideo;return Object(Re.jsx)(Vt,{classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"ptt":return function(){var t=1==e.isServer?Ce.sent:Ce.received;return Object(Re.jsx)(Ut,{classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"audio":return function(){var t=1==e.isServer?Ce.sent:Ce.received;return Object(Re.jsx)(Ut,{classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"video":return function(){var t=1==e.isServer?Ce.sentVideo:Ce.receivedVideo;return Object(Re.jsx)(Ht,{classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"sticker":return function(){var t=1==e.isServer?Ce.sentSticker:Ce.receivedSticker;return Object(Re.jsx)(Vt,{classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"document":return function(){var t=1==e.isServer?Ce.sent:Ce.received;return Object(Re.jsx)(Qt,{classe:t,name:e.fileName,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"payment":return function(){var t=1==e.isServer?Ce.sent:Ce.received;return Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)(Xt,{classe:t,message:e,currency:e.currency,note:e.note,amount:e.amount,author:e.author,date:new Date(e.createdAt).toLocaleString("pt-BR")})})}();default:return function(){var t=1==e.isServer?Ce.sent:Ce.received;return Object(Re.jsx)(Qt,{classe:t,name:e.fileName,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}()}}))})})}),Object(Re.jsxs)(N.a,{open:U,onClose:fe,"aria-labelledby":"form-dialog-title",children:[Object(Re.jsx)(xe.a,{id:"form-dialog-title",children:"Enviar Arquivo"}),Object(Re.jsx)(be.a,{children:Object(Re.jsx)("form",{children:Object(Re.jsx)("input",{type:"file",onChange:function(e){return T(e.target.files[0])}})})}),Object(Re.jsxs)(A.a,{children:[Object(Re.jsx)(S.a,{onClick:fe,color:"primary",children:"Cancelar"}),Object(Re.jsx)(S.a,{onClick:function(){var e;(e=q,new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))).then(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=q.type.split("/",1),r=q.type.split("/",2),""==window.location.port?"":":"+window.location.port,r=r[1],"aplication"==n&&(n="document"),i={base64:t,type:n,numbers:a.chatId,ext:r,name:q.name,token:J()},e.next=8,xt.post("/api/whatsapp/message.doc?id=0",i).then((function(){return fe}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},color:"primary",children:"Enviar"})]})]}),Object(Re.jsx)("div",{style:{width:"100%"},children:Object(Re.jsx)(ft,{number:a,worker:o})})]})]})})})})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var Kt=a(29),Zt=a(198),Yt=function(e){return Object(Re.jsxs)(Et.a,{className:e.className,style:{display:"flex",flexDirection:"collum",justifyContent:"center",overflow:"hidden",margin:"1% 1% 1% 1%",alignItems:"center"},children:[Object(Re.jsx)(k.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,style:{paddingBottom:"6%",marginTop:0},children:e.title}),Object(Re.jsx)(k.a,{component:"p",variant:"h3",children:e.value}),Object(Re.jsx)("div",{style:{marginBottom:0,paddingTop:"10.5%",alignItems:"center",alignContent:"center",justifyContent:"center"},children:Object(Re.jsx)(k.a,{color:"textSecondary",children:e.date})})]})},$t=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},burron:{height:"55px"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ea(){Object(Kt.a)();var e=$t(),t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(function(){try{return JSON.parse(localStorage.getItem(U))}catch(e){return[["Data","M\xe9dia"],["00/00",0]]}}()),o=Object(s.a)(c,2),l=o[0],d=o[1],x=Object(n.useState)({}),m=Object(s.a)(x,2),O=m[0],g=m[1],v=Object(n.useState)([]),w=Object(s.a)(v,2),k=w[0],S=w[1],y=Object(f.a)(e.paper,e.fixedHeight);function C(){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/clients/attendance");case 2:return e.next=4,e.sent.data.Client;case 4:for(n in t=e.sent,a=[],t)1==t[n].firstAttendace&&a.push(t[n]);S(a),i(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/clients/avaliations?days=30");case 2:return e.next=4,e.sent.data.Media;case 4:t=e.sent,a={m30:t.toFixed(1)},g(a);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/clients/avaliations.graph?days=15");case 2:return e.next=4,e.sent.data;case 4:t=e.sent,d(t),te(t);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){dt.on("userChanged",(function(e){C()}))})),Object(n.useEffect)((function(){C()}),[]),Object(Re.jsxs)("div",{className:e.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Dashboard"}),Object(Re.jsxs)("main",{className:e.content,children:[Object(Re.jsx)("div",{className:e.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:e.container,children:[Object(Re.jsx)(ut.a,{children:Object(Re.jsx)(ut.a,{children:Object(Re.jsxs)(ut.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",children:[Object(Re.jsx)(Yt,{className:y,title:"Em atendimento",value:"".concat(r.length),date:"".concat((new Date).toLocaleDateString("pt-BR")," \xe0s ").concat((new Date).toLocaleTimeString("pt-BR"))}),Object(Re.jsx)(Yt,{className:y,title:"Sem designa\xe7\xe3o",value:"".concat(k.length),date:"".concat((new Date).toLocaleDateString("pt-BR")," \xe0s ").concat((new Date).toLocaleTimeString("pt-BR"))}),Object(Re.jsx)(Yt,{className:y,title:"Com designa\xe7\xe3o",value:"".concat(r.length-k.length),date:"".concat((new Date).toLocaleDateString("pt-BR")," \xe0s ").concat((new Date).toLocaleTimeString("pt-BR"))}),Object(Re.jsx)(Yt,{className:y,title:"Nota do atendimento",value:O.m30,date:"\xdaltimos 30 dias."}),Object(Re.jsx)(Et.a,{className:y,children:Object(Re.jsx)(Zt.a,{chartType:"LineChart",loader:Object(Re.jsx)("div",{children:"Carregando o gr\xe1fico"}),data:l,options:{title:"Notas do atendimento - 15 dias",legend:"none"}})})]})})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var ta=a(120),aa=a.n(ta),na=a(201),ra=a.n(na),ia=a(376),ca=a(378),sa=a(373),oa=a(375),la=a(377),da=a(372),ua=a(374),ja=a(200),pa=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},table:{minWidth:650},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnSuccess:{backgroundColor:"green",color:"#fff","&:hover":{backgroundColor:"#12b912"}}}}));function ba(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(ja.useHistory)(),x=function(){l(!0)},m=function(){l(!1)};function f(e){switch(e){case!0:return"Finalizar atendimento";default:return"Atender"}}function O(){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/clients");case 2:t=e.sent,r(t.data.Clients);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t)),"3"!=ne()&&"2"!=ne()&&d.push("/admin");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){O(),dt.on("userChanged",(function(e){console.log("a"),O(),m()}))}),[]);var w=pa();return Object(Re.jsxs)("div",{className:w.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Contatos"}),Object(Re.jsxs)("main",{className:w.content,children:[Object(Re.jsx)("div",{className:w.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:w.container,children:[Object(Re.jsx)(ut.a,{children:Object(Re.jsxs)(Et.a,{className:w.paper,children:[Object(Re.jsxs)(ut.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",children:[Object(Re.jsx)("h2",{children:"Listagem de Contatos"}),Object(Re.jsxs)(S.a,{variant:"contained",className:w.btnSuccess,href:"/admin/contatos/cadastrar",children:[Object(Re.jsx)(aa.a,{}),"Cadastrar"]})]}),Object(Re.jsx)(ut.a,{container:!0,spacing:3,children:Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:12,children:Object(Re.jsx)(oa.a,{component:Et.a,children:Object(Re.jsxs)(ia.a,{className:w.table,"aria-label":"simple table",children:[Object(Re.jsx)(la.a,{children:Object(Re.jsxs)(da.a,{children:[Object(Re.jsx)(sa.a,{children:"Nome"}),Object(Re.jsx)(sa.a,{align:"center",children:"Telefone"}),Object(Re.jsx)(sa.a,{align:"center",children:"Saldo"}),Object(Re.jsx)(sa.a,{align:"center",children:"Data de cadastro"}),Object(Re.jsx)(sa.a,{align:"right",children:"Op\xe7\xf5es"})]})}),Object(Re.jsx)(ca.a,{children:a.map((function(e){return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(N.a,{open:o,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Re.jsx)(xe.a,{id:"alert-dialog-title",children:"Deseja excluir esse Contato?"}),Object(Re.jsx)(be.a,{children:Object(Re.jsx)(he.a,{id:"alert-dialog-description",children:"N\xe3o ser\xe1 poss\xedvel desfazer essa a\xe7\xe3o."})}),Object(Re.jsxs)(A.a,{children:[Object(Re.jsx)(S.a,{onClick:m,color:"primary",children:"Sair"}),Object(Re.jsx)(S.a,{onClick:Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xt.delete("/api/clients/"+e._id);case 3:return t.sent,t.next=6,xt.delete("/api/messages/"+e.chatId);case 6:return t.next=8,xt.delete("/api/whatsapp/chats/"+e.chatId+"?id=0");case 8:m(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),alert("Erro, tente mais tarde.");case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),color:"primary",autoFocus:!0,children:"Excluir"})]})]}),Object(Re.jsxs)(da.a,{children:[Object(Re.jsx)(sa.a,{component:"th",scope:"row",children:Object(Re.jsx)(zt.a,{color:"primary",avatar:Object(Re.jsx)(v.a,{src:e.profileUrl}),label:e.fullName})}),Object(Re.jsx)(sa.a,{align:"center",children:new String(e.chatId).replace("@c.us","")}),Object(Re.jsx)(sa.a,{align:"center",children:new String("".concat(e.WithDrawCash.toFixed(2),"R$")).replace(".",",")}),Object(Re.jsx)(sa.a,{align:"center",children:"".concat(new Date(e.createdAt).toLocaleDateString("pt-BR")," - ").concat(new Date(e.createdAt).toLocaleTimeString("pt-BR"))}),Object(Re.jsx)(sa.a,{align:"right",children:Object(Re.jsxs)(ua.a,{size:"small","aria-label":"small button group",children:[Object(Re.jsx)(S.a,{variant:"contained",color:"primary",onClick:Object(j.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={_id:e._id,worker:"no-one"},t.next=3,xt.patch("/api/clients/",a);case 3:case"end":return t.stop()}}),t)}))),children:f(e.inAttendace)}),Object(Re.jsx)(S.a,{onClick:function(t){d.push("/admin/whatsapp/"+e._id)},children:Object(Re.jsx)(ra.a,{})}),0!=e.WithDrawCash?Object(Re.jsx)(S.a,{disabled:!0,variant:"contained",color:"secondary",onClick:x,children:Object(Re.jsx)(Lt.a,{})}):Object(Re.jsx)(S.a,{variant:"contained",color:"secondary",onClick:x,children:Object(Re.jsx)(Lt.a,{})})]})})]},e.nome)]})}))})]})})})})]})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var ha=a(64),xa=a.n(ha),ma=a(38),fa=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnSuccess:{backgroundColor:"green",color:"#fff","&:hover":{backgroundColor:"#12b912"}}}}));function Oa(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],d=c[1],x=Object(ma.b)(),m=x.enqueueSnackbar,f=(x.closeSnackbar,Object(n.useState)("")),O=Object(s.a)(f,2),g=O[0],v=O[1],w=Object(l.useParams)().idUsuario;function k(){return(k=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={fullName:a,profileUrl:o,chatId:g},a&&o&&g){e.next=4;break}return e.abrupt("return",m("Prencha todos os campos!",{variant:"warning"}));case 4:return e.next=6,xt.put("/api/clients/update/"+w,t);case 6:n=e.sent,console.log(n),200==n.status&&m("Atualiza\xe7\xe3o efetuada com sucesso!",{variant:"success"}),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",m("Erro, tente novamente mais tarde!",{variant:"error"}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}Object(n.useEffect)(Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/clients/details/"+w);case 2:t=e.sent,(a=t.data.Client[0]).chatId=new Number(a.chatId.replace("@c.us","")),r(a.fullName),d(a.profileUrl),v(a.chatId);case 8:case"end":return e.stop()}}),e)}))),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t)),"3"!=ne()&&"2"!=ne()&&(window.location.href="/admin");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=fa();return Object(Re.jsxs)("div",{className:y.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Atualiza\xe7\xe3o de Contatos",image:"https://avatars.githubusercontent.com/u/25508594?s=88&u=5b5d48594bf2e0858c8e35ea14ca670bed657b05&v=4"}),Object(Re.jsxs)("main",{className:y.content,children:[Object(Re.jsx)("div",{className:y.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:y.container,children:[Object(Re.jsx)(ut.a,{children:Object(Re.jsx)(ut.a,{sm:12,children:Object(Re.jsxs)(Et.a,{className:y.paper,children:[Object(Re.jsx)("h2",{children:"Atualiza\xe7\xe3o de Cadastro"}),Object(Re.jsxs)(ut.a,{container:!0,spacing:3,children:[Object(Re.jsx)(ut.a,{item:!0,xs:10,sm:10,children:Object(Re.jsx)(tt.a,{required:!0,id:"fullName",name:"fullName",label:"Nome Completo",value:a,variant:"outlined",onChange:function(e){return r(e.target.value)},fullWidth:!0})}),Object(Re.jsx)(ut.a,{children:Object(Re.jsx)("img",{src:o,style:{maxHeight:"100px",maxWidth:"100px",marginLeft:"25%"}})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(tt.a,{required:!0,id:"profileUrl",name:"profileUrl",variant:"outlined",value:o,onChange:function(e){return d(e.target.value)},label:"Link da imagem do perfil",fullWidth:!0})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(tt.a,{required:!0,type:"number",id:"chatId",variant:"outlined",name:"chatId",value:g,onChange:function(e){return v(e.target.value)},label:"N\xfamero do WhatsApp",fullWidth:!0})}),Object(Re.jsx)(ut.a,{item:!0,xs:3,sm:3,children:Object(Re.jsxs)(S.a,{variant:"contained",onClick:function(){return k.apply(this,arguments)},className:y.btnSuccess,children:[Object(Re.jsx)(xa.a,{}),"  Atualizar"]})})]})]})})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var ga=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnSuccess:{backgroundColor:"green",color:"#fff","&:hover":{backgroundColor:"#12b912"}}}}));function va(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(""),x=Object(s.a)(d,2),m=x[0],f=x[1];function O(){return(O=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={fullName:a,profileUrl:o,chatId:m},a&&o&&m){e.next=4;break}return e.abrupt("return",alert("Prencha todos os campos"));case 4:return e.next=6,xt.post("/api/clients",t);case 6:if(n=e.sent,console.log(n),200!=n.status){e.next=14;break}return f(""),r(""),l(""),window.location.href="/admin/contatos",e.abrupt("return",alert("Cadastro efetuado!"));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),"Error: Request failed with status code 400"==e.t0?alert("O cadastro j\xe1 existe!"):(console.log(e.t0),alert("Erro, tente novamente mais tarde!"));case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t)),"3"!=ne()&&"2"!=ne()&&(window.location.href="/admin");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var g=ga();return Object(Re.jsxs)("div",{className:g.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Cadastro de Contatos",image:"https://avatars.githubusercontent.com/u/25508594?s=88&u=5b5d48594bf2e0858c8e35ea14ca670bed657b05&v=4"}),Object(Re.jsxs)("main",{className:g.content,children:[Object(Re.jsx)("div",{className:g.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:g.container,children:[Object(Re.jsx)(ut.a,{children:Object(Re.jsx)(ut.a,{sm:12,children:Object(Re.jsxs)(Et.a,{className:g.paper,children:[Object(Re.jsx)("h2",{children:"Formul\xe1rio de Cadastro"}),Object(Re.jsxs)(ut.a,{container:!0,spacing:3,children:[Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:12,children:Object(Re.jsx)(tt.a,{required:!0,id:"fullName",name:"fullName",label:"Nome Completo",value:a,variant:"outlined",onChange:function(e){return r(e.target.value)},fullWidth:!0})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(tt.a,{required:!0,id:"profileUrl",name:"profileUrl",variant:"outlined",value:o,onChange:function(e){return l(e.target.value)},label:"Link da imagem do perfil",fullWidth:!0})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(tt.a,{required:!0,type:"number",id:"chatId",variant:"outlined",name:"chatId",value:m,onChange:function(e){return f(e.target.value)},label:"N\xfamero do WhatsApp",fullWidth:!0})}),Object(Re.jsx)(ut.a,{item:!0,xs:3,sm:3,children:Object(Re.jsxs)(S.a,{variant:"contained",onClick:function(){return O.apply(this,arguments)},className:g.btnSuccess,children:[Object(Re.jsx)(xa.a,{}),"  Salvar"]})})]})]})})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var wa=a(202),ka=a(203),Sa=a(209),ya=a(208),Ca=(a(307),function(e){Object(Sa.a)(a,e);var t=Object(ya.a)(a);function a(){return Object(wa.a)(this,a),t.apply(this,arguments)}return Object(ka.a)(a,[{key:"render",value:function(){return setTimeout((function(){window.history.back()}),7e3),Object(Re.jsx)("div",{class:"main",children:Object(Re.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"470",height:"290",viewBox:"0 0 470 290",children:[Object(Re.jsx)("defs",{children:Object(Re.jsx)("path",{class:"fundo",id:"prefix__a",d:"M5.063 128.67c-2.513 15.192 5.633 31.093 17.898 38.941 5.99 3.832 13.34 6.528 16.471 13.254 4.868 10.452-3.879 22.437-13.113 28.515-9.236 6.078-20.5 10.9-24.704 21.683-2.771 7.108-1.685 15.387 1.058 22.507 10.06 26.112 39.393 37.547 65.479 36.15 26.086-1.396 50.827-12.407 76.416-18.075 87.873-19.465 180.005 24.717 267.728 4.47 13.65-3.151 27.4-8.081 37.943-17.99 11.883-11.167 18.632-28.016 19.65-45.023.97-16.225-4.34-34.495-17.744-41.806-7.834-4.273-17.196-4.1-25.7-1.774-5.43 1.483-10.767 3.808-16.369 3.848-5.601.038-11.763-3-13.386-8.808-1.707-6.107 2.182-12.41 6.642-16.577 9.072-8.474 21.203-12.707 29.441-22.126 7.927-9.063 11.264-22.574 8.574-34.716-2.692-12.141-11.326-22.538-22.188-26.715-27.683-10.645-57.844 18.377-86.152 9.873-2.101-.63-4.312-1.605-5.418-3.641-1.08-1.988-.834-4.51-.214-6.716 3.468-12.348 16.939-20.21 17.528-33.102.32-7.008-3.504-13.564-8.325-18.251-33.126-32.2-81.125 6.102-114.9 18.194-55.542 19.884-112.157 36.49-167.849 55.963-20.81 7.275-44.91 18.606-48.766 41.922z"})}),Object(Re.jsxs)("g",{fill:"none","fill-rule":"evenodd",children:[Object(Re.jsx)("path",{fill:"#FFF",d:"M0 0H1366V800H0z",transform:"translate(-448 -157)"}),Object(Re.jsxs)("g",{transform:"translate(-448 -157) translate(448 157)",children:[Object(Re.jsx)("mask",{id:"prefix__b",fill:"#fff",children:Object(Re.jsx)("use",{href:"#prefix__a"})}),Object(Re.jsx)("use",{fill:"#F6F6F7",href:"#prefix__a"}),Object(Re.jsx)("path",{fill:"#EDEDF0","fill-rule":"nonzero",d:"M-14.199 211.2H481.36V301.2H-14.199z",mask:"url(#prefix__b)"}),Object(Re.jsxs)("g",{class:"paes",children:[Object(Re.jsxs)("g",{class:"pao-baixo",children:[Object(Re.jsx)("path",{fill:"#FBB965",d:"M2.79 131.737s-2.073 3.155-2.479 6.868c-.406 3.713-.747 9.666 1.24 13.372 1.985 3.707 12.69 20.8 65.175 21.02 53.15.225 69.188-15.685 70.59-18.977 2.605-6.118 1.838-21.327.06-22.283-1.777-.956-44.044-3.204-72.446-4.057-28.402-.854-49.872-1.968-62.14 4.057",transform:"translate(161 68)"}),Object(Re.jsx)("path",{fill:"#E6A95F",d:"M34.648 167.758c-8.863-1.526-23.515-6.939-30.292-14.218-6.775-7.28-2.096-8.803 3.508-5.387 5.605 3.415 24.569 11.557 54.124 12.263 29.555.706 61.424-6.946 72.2-17.053 0 0 2.705-1.47 2.768 1.509.062 2.98.428 7.948-2.769 10.507-3.196 2.558-34.805 23.526-99.54 12.379",transform:"translate(161 68)"}),Object(Re.jsx)("path",{fill:"#FFDA7F",d:"M5.679 131.837c-6.522 1.646-.275 6.91 9.492 12.14 9.767 5.229 28.24 10.257 44.267 10.015 16.028-.243 37.48-.481 52.543-5.333 15.06-4.852 16.223-9.55 17.998-13.298 1.774-3.748-107.32-7.809-124.3-3.524",transform:"translate(161 68)"})]}),Object(Re.jsxs)("g",{class:"pao-cima",children:[Object(Re.jsx)("path",{fill:"#FBB868",d:"M71.37 0C49.008.035-2.43.631 1.18 51.16c0 0-.018 10.84 62.825 10.84 62.844 0 72.591-9.633 73.721-11.173C142.284 44.623 147.583-.117 71.37 0",transform:"translate(161 68)"}),Object(Re.jsx)("path",{fill:"#E6A95F",d:"M34.552 61c-7.628-1.006-23.98-2.904-27.586-5.506-3.606-2.604-7.448-2.895-5.39-10.826.842-3.242 7.976-.619 11.264.839 3.289 1.458 21.239 6.047 42.989 6.673 21.75.625 57.126-1.679 67.42-5.458 9.806-3.598 13.662-7.027 15.493-5.228 2.396 2.351 1.687 8.008-4.913 12.215-6.252 3.985-27.53 7.2-49.434 7.76-21.904.56-38.604 1.012-49.843-.469",transform:"translate(161 68)"}),Object(Re.jsx)("path",{fill:"#FFEAD4",d:"M45.508 13.114c-.368.549-.54 1.598-.503 2.445.017.392.297.604.45.287.143-.297.222-.617.303-.978.087-.387.197-.735.238-1.15.042-.44-.257-.95-.488-.604M42.092 9.016c-.694.13-1.446.61-1.774 1.098-.168.248-.3.512-.317.792-.017.313.154.503.29.776.249.494 1.245.392 1.22-.162-.014-.274.33-.612.54-.817.367-.361.75-.62.923-1.075.154-.404-.413-.7-.882-.612M51.621 9.247c-.182-.409-.68-.325-.615.364.063.687.007 1.485.25 2.067.19.458.694.473.737-.25.043-.759-.109-1.592-.372-2.181M32.55 15.101c-1.206.547-1.849 1.662-1.414 2.552.188.384 1.21.504 1.46.077.188-.32.407-.629.616-.942.243-.363.63-.675.767-1.064.173-.486-.753-.93-1.43-.623M29.793 9.012c-.26-.108-.498.532-.62.942-.166.565-.205 1.033-.149 1.674.053.59.424.405.493-.048-.002.014.102-.302.138-.4.093-.247.18-.497.262-.76.113-.359.144-1.297-.124-1.408M38.384 6.056c-.737-.211-1.406.211-1.881.674-.53.514-.607 1.19-.39 1.829.167.5 1.09.632 1.326.096.127-.285.31-.53.533-.764.304-.32.72-.44.944-.848.237-.429-.053-.85-.532-.987M21.722 10.101c-.484-.28-1.16.08-1.542.378-.57.444-.957.924-1.152 1.628-.21.764.802 1.182 1.296.663.4-.42.901-.746 1.308-1.172.319-.334.594-1.205.09-1.497M23.513 15.078c-.385.414-.505 1.566-.513 2.381-.005.47.333.749.47.35.206-.592.422-1.34.517-2.047.082-.598-.253-.921-.474-.684M38.964 14.6c-.26-.324-1.293-.581-2.192-.6-.626-.012-.971.28-.65.452.459.244 1.155.57 2.063.547.56-.014.936-.205.78-.4M51.58 3.028c-.54-.1-.912.074-1.399.401-.45.304-.83.813-1.092 1.395-.344.76.386 1.437.866 1.076.662-.5 1.41-.857 1.914-1.641.255-.397.126-1.152-.29-1.23M66.234 9c-.923 0-2.062.305-2.227.708-.074.182.437.384.836.247.537-.185 1.29-.187 1.832-.364.59-.193.337-.591-.441-.591M60.589 9.375c-.101-.522-.482-.493-.556.048-.12.852.102 1.815.423 2.412.213.396.543.02.544-.494.002-.736-.283-1.302-.411-1.966M69.955 3.569c-.44-.473-1.713-.712-2.727-.479-.37.085-.24.315.044.396.601.173 1.168.408 1.848.503.49.069 1.042-.199.835-.42M73.956 10.626c-.231-.836-.735-1.255-1.316-1.507-.24-.104-.5-.147-.75-.1-.148.028-.273.063-.407.161-.032.022-.373.238-.223.161-.282.148-.382.791-.057.979.117.067.22.24.333.325.168.128.336.247.508.364.327.219.564.609.873.868.537.45 1.27-.42 1.04-1.251M66.549 15.017c-.83-.233-.486 2.056-.435 2.528.055.51.678.664.741.08.068-.628.42-2.405-.306-2.608M54.803 16.301c-.065-.347-.1-.709-.19-1.038-.107-.393-.44-.32-.532.052-.186.746-.052 2.313.405 2.636.225.16.545-.077.512-.623-.024-.375-.13-.676-.195-1.027M39.534 21.024c-.423.212-.58 1.352-.523 2.174.066.946.664 1.13.785.144.065-.538.22-1.041.203-1.612-.016-.528-.238-.82-.465-.706M15.946 21.201c-.04-.142-.134-.197-.214-.2-.311-.02-.464.621-.576 1.05-.124.468-.188.945-.14 1.461.053.562.486.699.57.088.053-.375.146-.754.233-1.107.108-.439.265-.815.127-1.292M14.918 16.274c-.067-.169-.25-.279-.46-.274-.571.015-1.05.232-1.55.61-.562.422-.976 1.023-.899 1.675.081.697.993.942 1.574.476.407-.326.746-.755 1.058-1.149.364-.462.441-.923.277-1.338M62.906 5.209c-.447-.277-1.34-.251-1.957-.083-.279.077-.57.172-.738.298-.069.051-.108.105-.15.16-.025.038-.037.076-.038.115.043.077.042.09-.003.037-.154.243.622.357.925.173.227-.051.444-.104.705-.13.521-.054 1.021-.089 1.286-.315.092-.078.088-.182-.03-.255M52.906 8.291c-.191-.24-.402-.204-.634-.28-.218-.073-.326.255-.245.491.117.34.438.509.697.497.26-.01.37-.472.182-.708M80.437 1.283c-.385-.22-.844-.327-1.272-.266-.497.071-.7.363-1.033.724-.356.388.07 1.143.54.93l-.065-.083c.095.05.192.08.295.09.177.032.31.074.477.16.373.189.702.503 1.023.78.348.301 1.738.788 1.586-.245-.141-.963-.789-1.652-1.551-2.09M78.955 8.082c-.134-.55-.259-1.126-.366-1.703-.102-.548-.457-.476-.541.05-.073.453-.057.877.01 1.331.083.548.286.874.512 1.17.11.144.276.048.357-.132.097-.215.088-.476.028-.716M87.395 8c-.77.016-1.317.338-2.032.43-.505.065-.477.525.046.56.713.047 1.359-.082 2.053-.14.468-.04 1.35.253 1.516-.164.191-.483-.906-.7-1.583-.685M81.958 14.767c-.103-.44-.306-.8-.377-1.279-.095-.644-.518-.678-.57.063-.07.998.19 1.845.53 2.34.293.426.566-.494.417-1.124M99.918 9.365c-.177-.18-.36-.23-.56-.337-.295-.16-.508.405-.225.646.181.155.805.626.863.04.012-.119-.003-.273-.078-.349M93.308 4.792c-.387-.436-.932-.682-1.466-.78-.809-.145-1.17 1.02-.47 1.477.65.427 1.772 2.34 2.503 1.097.376-.641-.178-1.356-.567-1.794M91.498 10.138c-.32.55-.428 1.334-.494 2.18-.043.546.266.928.442.494.21-.512.38-1.126.522-1.741.139-.605-.204-1.393-.47-.933M103.977 8.863c-.265-1.177-1.477-2.153-2.51-1.784-.548.195-.653 1.156-.104 1.442.294.153.53.397.762.655.326.36.549.611.988.784.564.223.992-.535.864-1.097M100.988 4.781c.03-.437-.169-.702-.568-.724-.906-.33-1.89.849-2.3 1.608-.47.873.538 1.63 1.223 1.22.683-.406 1.786-1.108 1.645-2.104M110.532 7.06c-.238-.218-.568.203-.463.619l.012.045c-.01.096-.001.204 0 .297 0 .14-.016.294-.025.434-.012.181-.043.357-.053.539-.013.245.016.45.06.612.091.33.32.515.53.304.108-.11.286-.37.335-.709.04-.276.058-.554.07-.836.024-.568-.189-1.052-.466-1.306M108.458 14.127c-.434-.548-.995-.921-1.662-1.103-.746-.203-1.116.933-.445 1.28.216.11.4.251.557.443.204.248.42.648.672.84.348.262.868.645 1.249.23.437-.478-.064-1.305-.37-1.69M117.71 13.184c-.282.276-.558.555-.852.815-.143.126-.333.256-.446.42-.108.156-.174.34-.284.489-.392.535.193 1.412.694.973.104-.091.318-.086.446-.134.16-.062.324-.11.486-.169.51-.186.872-.578 1.145-1.11.418-.816-.553-1.907-1.188-1.284M97.93 18.019c-.834-.165-1.209.791-.697 1.348.495.538 1.83 2.49 2.627 1.2.636-1.034-1.044-2.373-1.93-2.548M124.69 17.006c-.372.072-.428.396-.629.626-.202.23.139.496.376.3.22-.181.506-.403.559-.676.032-.168-.129-.285-.307-.25M115.979 19.839c-.079-.499-.153-.976-.264-1.445-.205-.86-.853-.174-.689.73.089.49.148.982.25 1.46.196.907.849.182.703-.745M78.957 24.496c.068-.31.05-.616-.02-.91-.077-.321-.14-.65-.183-1.002-.099-.82-.671-.76-.736.076-.056.71.019 1.361.23 1.918.132.348.265.461.467.377-.18.076.075.038.116.016.071-.038.117-.183.135-.33.01-.08.063-.472-.009-.145M61.924 22.403c-.057-.057-.16-.13-.189-.2-.132-.33-.73-.229-.735.1-.004.27.047.533.379.665.186.073.458.02.543-.14l.027-.053c.06-.114.083-.266-.025-.372M106.798 22.22c-.107-.292-.757-.304-.794.028-.032.293.107.618.488.731.229.068.532-.032.507-.257-.021-.186-.137-.329-.201-.502M70.884 28.197c-.13-.291-.716-.24-.83.025-.131.304-.034.606.41.754.101.033.24.034.334-.012.326-.16.181-.553.086-.767",transform:"translate(161 68)"}),Object(Re.jsx)("g",{class:"olhos",children:Object(Re.jsx)("path",{fill:"#633",d:"M51.976 32.505c.27 2.748-1.735 5.197-4.476 5.47-2.748.274-5.199-1.732-5.476-4.48-.27-2.748 1.735-5.197 4.483-5.47 2.748-.274 5.192 1.733 5.469 4.48M93.976 28.505c.27 2.748-1.735 5.197-4.483 5.47-2.748.273-5.192-1.733-5.469-4.48-.27-2.748 1.735-5.197 4.483-5.47 2.748-.274 5.192 1.733 5.469  4.48M65.03 45.127c2.1-5.726 9.106-6.606 13.113-2.171.408.462-.277 1.204-.725.77-3.981-3.892-9.17-2.951-11.83 1.745-.187.333-.68-.002-.558-.344 ",transform:"translate(161 68)"})})]})]}),Object(Re.jsxs)("g",{"fill-rule":"nonzero",stroke:"#979797","stroke-linecap":"round","stroke-width":"1.8",class:"left-sparks",children:[Object(Re.jsx)("path",{d:"M23.684 5.789L30 1.158",transform:"rotate(-90 157 13)"}),Object(Re.jsx)("path",{d:"M0 5.789L6.316 1.158",transform:"rotate(-90 157 13) matrix(-1 0 0 1 6.316 0)"}),Object(Re.jsx)("path",{d:"M15.789 4.632L15.789 0",transform:"rotate(-90 157 13)"})]}),Object(Re.jsxs)("g",{"fill-rule":"nonzero",stroke:"#979797","stroke-linecap":"round","stroke-width":"1.8",class:"right-sparks",children:[Object(Re.jsx)("path",{d:"M23.684 5.789L30 1.158",transform:"matrix(0 -1 -1 0 318 170)"}),Object(Re.jsx)("path",{d:"M0 5.789L6.316 1.158",transform:"matrix(0 -1 -1 0 318 170) matrix(-1 0 0 1 6.316 0)"}),Object(Re.jsx)("path",{d:"M15.789 4.632L15.789 0",transform:"matrix(0 -1 -1 0 318 170)"})]}),Object(Re.jsx)("path",{fill:"#4B4B62",class:"path","fill-rule":"nonzero",stroke:"#4B4B62","stroke-width":"2",d:"M198.754 186c1.56 0 2.246-.703 2.246-2.3v-41.4c0-1.597-.686-2.3-2.246-2.3h-9.608c-1.56 0-2.247.703-2.247 2.3v19.678h-5.802c-1.185 0-1.934-.83-1.934-2.172V142.3c0-1.597-.686-2.3-2.246-2.3h-9.67c-1.56 0-2.247.703-2.247 2.3v22.425c0 7.283 3.244 10.606 11.355 10.606H186.9v8.369c0 1.597.687 2.3 2.247 2.3h9.608zm32.277 1c15.3 0 18.969-5.248 18.969-13.056V152.12c0-7.808-3.67-13.12-18.969-13.12-15.3 0-19.031 5.312-19.031 13.12v21.824c0 7.808 3.732 13.056 19.031 13.056zm.969-12c-4.25 0-5-1.27-5-2.986v-17.091c0-1.652.75-2.923 5-2.923 4.313 0 5 1.27 5 2.923v17.09c0 1.716-.688 2.987-5 2.987zm62.754 11c1.56 0 2.246-.703 2.246-2.3v-41.4c0-1.597-.686-2.3-2.246-2.3h-9.608c-1.56 0-2.247.703-2.247 2.3v19.678h-5.802c-1.185 0-1.934-.83-1.934-2.172V142.3c0-1.597-.686-2.3-2.246-2.3h-9.67c-1.56 0-2.247.703-2.247 2.3v22.425c0 7.283 3.244 10.606 11.355 10.606H282.9v8.369c0 1.597.687 2.3 2.247 2.3h9.608z"})]})]})]})})}}]),a}(n.Component)),Ba=Object(y.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(4)}}}));var Na=function(){var e=Ba(),t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)([]),l=Object(s.a)(c,2),d=l[0],x=l[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),O=f[0],k=f[1],S="dark"==se()?"white":"black";function y(e){var t;e.preventDefault(),t=O?r.filter((function(e){return-1!==e.fullName.toLowerCase().indexOf(O.toLowerCase())})):r,x(t)}function C(e){try{if(null!=e.lastMessage.body&&void 0!=e.lastMessage.body){var t=new Date(e.lastMessage.createdAt).toLocaleTimeString("pt-br").split(":",2);return"".concat(t[0],":").concat(t[1])}return""}catch(a){return""}}function B(){return(B=Object(j.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/clients/attendance");case 2:for(r in t=e.sent,a=t.data.Client,n=[],a)"3"!=ne()&&"2"!=ne()?("no-one"==a[r].WorkerAttendance||a[r].WorkerAttendance==Y())&&n.push(a[r]):n=a;i(n),x(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){try{if(null!=e.lastMessage.body&&void 0!=e.lastMessage.body){var t=new String(e.lastMessage.body);return""+(t="Seu atendimento foi finalizado com sucesso."==(t=t.trim())?"":t)}return""}catch(a){return""}}return Object(n.useEffect)((function(){!function(){B.apply(this,arguments)}(),dt.on("receiveAttendance",(function(e){var t=e,a=[];for(var n in t)"3"!=ne()?("no-one"==t[n].WorkerAttendance||t[n].WorkerAttendance==Y())&&a.push(t[n]):a=t;i(a),""==O&&x(a)})),dt.on("newAttendace",(function(e){dt.emit("requestAttendance")})),dt.on("userChanged",(function(e){dt.emit("requestAttendance")})),dt.on("newMessage",(function(e){dt.emit("requestAttendance")})),dt.on("newFile",(function(e){dt.emit("requestAttendance")}))}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(Re.jsxs)("div",{className:e.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"WhatsApp"}),Object(Re.jsxs)("main",{className:e.content,children:[Object(Re.jsx)("div",{className:e.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",style:{paddingTop:"10px"},children:[Object(Re.jsx)(ut.a,{container:!0,style:{height:"100%"},children:Object(Re.jsxs)(ut.a,{item:!0,xs:12,children:[Object(Re.jsxs)(Et.a,{component:"form",onChange:y,onSubmit:y,style:{display:"flex",width:"100%",marginTop:"2px",marginBottom:"5px"},children:[Object(Re.jsx)(Bt.a,{placeholder:"Pesquisar por contato",value:O,onChangeCapture:function(e){e.target.value?k(e.target.value):(k(""),x(r))},inputProps:{"aria-label":"Pesquisar por contato"},style:{width:"100%",marginLeft:"20px"}}),Object(Re.jsx)(ve.a,{type:"submit","aria-label":"search",children:Object(Re.jsx)(Ft.a,{})}),Object(Re.jsx)(w.a,{orientation:"vertical"})]}),Object(Re.jsx)(Et.a,{elevation:2,children:Object(Re.jsx)(Ke.a,{style:{width:"100%",display:"flex",height:"75vh",flexWrap:"normal"},cols:1,children:Object(Re.jsx)(g.a,{children:d.map((function(e){return Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsxs)(o.b,{to:"/admin/whatsapp/"+e._id,style:{textDecoration:"none",color:S},children:[Object(Re.jsxs)(we.a,{button:!1,children:[Object(Re.jsx)(v.a,{src:e.profileUrl}),Object(Re.jsx)(Se.a,{style:{width:"100%",paddingLeft:15},primary:e.fullName,secondary:N(e)}),e.firstAttendace?Object(Re.jsx)(He.a,{}):Object(Re.jsx)(Re.Fragment,{children:C(e)})]}),Object(Re.jsx)(w.a,{variant:"inset",component:"li"})]})})}))})})})]})}),Object(Re.jsx)(b.a,{pt:1,children:Object(Re.jsx)(_e,{})})]})]})]})},Aa=a(379),Ia=a(121),La=a.n(Ia),Da=Object(y.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Fa(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(!1),h=Object(s.a)(d,2),x=h[0],m=h[1],f=Object(n.useState)(""),O=Object(s.a)(f,2),g=O[0],w=O[1],y=Object(n.useState)(!1),C=Object(s.a)(y,2),B=C[0],I=C[1],L=Object(n.useState)(""),D=Object(s.a)(L,2),F=D[0],W=D[1],M=function(){m(!0)},E=function(){m(!1),P(),r(""),l(""),I(!1)},R=Da();function z(){return(z=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xt.post("/api/login",{email:a,senha:o});case 3:1==(t=e.sent).data.status?(X(t.data.token),Z(t.data.user._id),re(t.data.user.foto_perfil),$(t.data.user.nome_usuario),ae(t.data.user.tipo_usuario),le()||oe("true"),de||ue(),je("true"),window.location.href="/admin"):(w("Acesso n\xe3o autorizado"),W("Seu email ou senha est\xe3o incorretos."),M()),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),w("Erro no servidor!"),W("Ocorreu um erro interno no servidor, tente novamente mais tarde!"),M();case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function q(){return(q=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=""==window.location.port?"":":"+window.location.port,n="".concat(window.location.protocol,"//").concat(window.location.hostname).concat(t),e.next=4,xt.post("/api/login/create.recovery",{email_usuario:a,server_location:n});case 4:e.sent,w("Verifique seu email!"),W("Se o seu e-mail estiver cadastrado no sistema voc\xea receber\xe1 um link v\xe1lido por 5 minutos para redefinir a senha."),M();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){e.preventDefault(),0==B?function(){z.apply(this,arguments)}():function(){q.apply(this,arguments)}()}function P(){return Object(Re.jsxs)(ut.a,{container:!0,component:"main",className:R.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(ut.a,{item:!0,xs:!1,sm:4,md:7,className:R.image}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:8,md:5,component:Et.a,elevation:6,square:!0,children:Object(Re.jsxs)("div",{className:R.paper,children:[Object(Re.jsxs)(N.a,{open:x,onClose:E,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Re.jsx)(xe.a,{id:"alert-dialog-title",children:g}),Object(Re.jsx)(be.a,{children:Object(Re.jsx)(he.a,{id:"alert-dialog-description",children:F})}),Object(Re.jsx)(A.a,{children:Object(Re.jsx)(S.a,{onClick:function(){E()},color:"primary",autoFocus:!0,children:"Ok"})})]}),Object(Re.jsx)(v.a,{className:R.avatar,children:Object(Re.jsx)(La.a,{})}),Object(Re.jsx)(k.a,{component:"h1",variant:"h5",children:B?"Recuperar senha":"Login"}),Object(Re.jsxs)("form",{className:R.form,id:"form",onSubmit:T,children:[Object(Re.jsx)("input",{style:{display:"none"},id:"sub",type:"submit"}),Object(Re.jsx)(tt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",id:"email",value:a,onChange:function(e){r(e.target.value)},label:"Email",name:"email",autoComplete:"email",autoFocus:!0}),B?Object(Re.jsx)(Re.Fragment,{}):Object(Re.jsx)(tt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:o,onChange:function(e){l(e.target.value)},name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password"}),Object(Re.jsx)("label",{htmlFor:"sub",children:Object(Re.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:R.submit,children:B?"Recuperar senha":"Login"})}),Object(Re.jsxs)(ut.a,{container:!0,children:[Object(Re.jsx)(ut.a,{item:!0,xs:!0,children:Object(Re.jsx)(Ve.a,{onClick:function(){I(!B)},variant:"body2",children:B?"Fazer login":"Esqueceu a senha?"})}),Object(Re.jsx)(ut.a,{item:!0})]})]}),Object(Re.jsx)(b.a,{mt:5,children:Object(Re.jsx)(_e,{})})]})})]})}return P()}var Wa=a(380),Ma=a(381),Ea=a(204),Ra=a.n(Ea),za=Object(y.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));function qa(e){var t=za(),a=r.a.useState(!1),n=Object(s.a)(a,2),i=n[0],c=n[1];return Object(Re.jsxs)(Mt.a,{style:{maxWidth:345},variant:"outlined",children:[Object(Re.jsx)(Rt.a,{avatar:Object(Re.jsx)(v.a,{className:t.avatar,src:e.srcIconClient}),title:e.clientName,subheader:e.date}),Object(Re.jsx)(Wa.a,{style:{height:0,paddingTop:"56.25%"},image:e.srcCentralImage}),Object(Re.jsxs)(Wt.a,{children:[Object(Re.jsx)(k.a,{gutterBottom:!0,variant:"h6",component:"h6",children:e.title}),Object(Re.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:e.description})]}),Object(Re.jsxs)(Ma.a,{disableSpacing:!0,children:[Object(Re.jsx)(S.a,{size:"small",color:"primary",children:"Detalhes"}),Object(Re.jsx)(S.a,{size:"small",color:"secondary",children:"Finalizar etapa"}),Object(Re.jsx)(ve.a,{className:Object(f.a)(t.expand,Object(x.a)({},t.expandOpen,i)),onClick:function(){c(!i)},"aria-expanded":i,"aria-label":"show more",children:Object(Re.jsx)(Ra.a,{})})]}),Object(Re.jsx)(Aa.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(Re.jsxs)(Wt.a,{children:[Object(Re.jsx)(k.a,{paragraph:!0,children:"Observa\xe7\xf5es:"}),Object(Re.jsx)(k.a,{paragraph:!0,children:e.Obs})]})})]})}var Ta=a(382),Pa=Object(y.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},cardGrid:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},btnSuccess:{backgroundColor:"green",marginBottom:"15px",color:"#fff","&:hover":{backgroundColor:"#12b912"}}}}));function Ga(){var e=Pa();return Object(Re.jsxs)("div",{className:e.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Pedidos"}),Object(Re.jsxs)("main",{className:e.content,children:[Object(Re.jsx)("div",{className:e.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:e.container,children:[Object(Re.jsx)("main",{children:Object(Re.jsx)(h.a,{className:e.cardGrid,maxWidth:"md",children:Object(Re.jsxs)(Et.a,{className:e.paper,children:[Object(Re.jsxs)(ut.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",children:[Object(Re.jsx)("h2",{children:"Pedidos Realizados"}),Object(Re.jsxs)(S.a,{variant:"contained",className:e.btnSuccess,href:"/admin/contatos/cadastrar",children:[Object(Re.jsx)(Ta.a,{}),"Novo Pedido"]})]}),Object(Re.jsx)(ut.a,{container:!0,spacing:4,children:[1,2,3].map((function(e){return Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:6,md:4,children:Object(Re.jsx)(qa,{srcIconClient:"https://i.pinimg.com/280x280_RS/00/21/1b/00211b8db6839e80fde16ee7006991eb.jpg",clientName:"Niedson Emanoel",title:"Pizza 4 Queijos",date:(new Date).toLocaleString("pt-BR"),srcCentralImage:"https://material-ui.com/static/images/cards/paella.jpg",description:"Uma pizza de 4 sabores deliciosa e maestria da casa.",Obs:"Sem carne"})},e)}))})]})})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}function Ua(){return Object(Re.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Re.jsx)(Ve.a,{color:"inherit",href:"#",children:"Niedson Emanoel & Apoastro"})," ",(new Date).getFullYear(),"."]})}var Ha=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Va(){var e=Ha(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),d=o[0],x=o[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),O=f[0],g=f[1],w=Object(n.useState)(""),y=Object(s.a)(w,2),C=y[0],B=y[1],I=function(){window.location.href="/admin/login"},L=Object(l.useParams)().tokenUser;function D(){return(D=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,xt.post("/api/login/change.recovery",{token:L,password:d});case 4:e.sent,g("Sucesso!"),B("Voc\xea ser\xe1 redirecionado a p\xe1gina de login."),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),g("N\xe3o foi poss\xedvel recuperar a senha."),B("Voc\xea ser\xe1 redirecionado a p\xe1gina de login para gerar um novo token.");case 13:i(!0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(Re.jsxs)(h.a,{component:"main",maxWidth:"xs",children:[Object(Re.jsx)(p.a,{}),Object(Re.jsxs)(N.a,{open:r,onClose:I,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Re.jsx)(xe.a,{id:"alert-dialog-title",children:O}),Object(Re.jsx)(be.a,{children:Object(Re.jsx)(he.a,{id:"alert-dialog-description",children:C})}),Object(Re.jsx)(A.a,{children:Object(Re.jsx)(S.a,{onClick:function(){I()},color:"primary",autoFocus:!0,children:"Ok"})})]}),Object(Re.jsxs)("div",{className:e.paper,children:[Object(Re.jsx)(v.a,{className:e.avatar,children:Object(Re.jsx)(La.a,{})}),Object(Re.jsx)(k.a,{component:"h1",variant:"h5",children:"Recuperar senha"}),Object(Re.jsxs)("form",{className:e.form,onSubmit:function(e){return D.apply(this,arguments)},children:[Object(Re.jsx)(tt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:d,onChange:function(e){x(e.target.value)},name:"password",label:"Nova senha",type:"password",id:"password",autoComplete:"current-password"}),Object(Re.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"confirmar"})]})]}),Object(Re.jsx)(b.a,{mt:8,children:Object(Re.jsx)(Ua,{})})]})}var _a=function(e){switch(e){case 1:return"default";case 2:return"primary";case 3:return"secondary"}},Qa=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},table:{minWidth:650},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnSuccess:{backgroundColor:"green",color:"#fff","&:hover":{backgroundColor:"#12b912"}}}}));function Xa(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(s.a)(i,2),o=c[0],l=c[1],d=function(){l(!0)},x=function(){l(!1)};Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers");case 2:t=e.sent,r(t.data.Workers);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t)),"3"!=ne()&&(window.location.href="/admin");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var m=Qa();return Object(Re.jsxs)("div",{className:m.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Funcion\xe1rios"}),Object(Re.jsxs)("main",{className:m.content,children:[Object(Re.jsx)("div",{className:m.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:m.container,children:[Object(Re.jsx)(ut.a,{children:Object(Re.jsxs)(Et.a,{className:m.paper,children:[Object(Re.jsxs)(ut.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",children:[Object(Re.jsx)("h2",{children:"Listagem de Funcion\xe1rios"}),Object(Re.jsxs)(S.a,{variant:"contained",className:m.btnSuccess,href:"/admin/funcionarios/cadastrar",children:[Object(Re.jsx)(aa.a,{}),"Cadastrar"]})]}),Object(Re.jsx)(ut.a,{container:!0,spacing:3,children:Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:12,children:Object(Re.jsx)(oa.a,{component:Et.a,children:Object(Re.jsxs)(ia.a,{className:m.table,"aria-label":"simple table",children:[Object(Re.jsx)(la.a,{children:Object(Re.jsxs)(da.a,{children:[Object(Re.jsx)(sa.a,{children:"Nome"}),Object(Re.jsx)(sa.a,{align:"center",children:"Email"}),Object(Re.jsx)(sa.a,{align:"center",children:"Tipo de Usu\xe1rio"}),Object(Re.jsx)(sa.a,{align:"center",children:"Data de cadastro"}),Object(Re.jsx)(sa.a,{align:"right",children:"Op\xe7\xf5es"})]})}),Object(Re.jsx)(ca.a,{children:a.map((function(e){return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(N.a,{open:o,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Re.jsx)(xe.a,{id:"alert-dialog-title",children:"Deseja excluir esse Funcion\xe1rio?"}),Object(Re.jsx)(be.a,{children:Object(Re.jsx)(he.a,{id:"alert-dialog-description",children:"N\xe3o ser\xe1 poss\xedvel desfazer essa a\xe7\xe3o."})}),Object(Re.jsxs)(A.a,{children:[Object(Re.jsx)(S.a,{onClick:x,color:"primary",children:"Sair"}),Object(Re.jsx)(S.a,{onClick:Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xt.delete("/api/workers/"+e._id);case 3:t.sent,window.location.reload(!0),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),alert("Erro, tente mais tarde.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),color:"primary",autoFocus:!0,children:"Excluir"})]})]}),Object(Re.jsxs)(da.a,{children:[Object(Re.jsx)(sa.a,{component:"th",scope:"row",children:Object(Re.jsx)(zt.a,{color:"primary",avatar:Object(Re.jsx)(v.a,{src:e.foto_perfil}),label:e.nome_usuario})}),Object(Re.jsx)(sa.a,{align:"center",children:e.email_usuario}),Object(Re.jsx)(sa.a,{align:"center",children:Object(Re.jsx)(zt.a,{color:_a(e.tipo_usuario),label:Je(e.tipo_usuario)})}),Object(Re.jsx)(sa.a,{align:"center",children:"".concat(new Date(e.createdAt).toLocaleDateString("pt-BR")," - ").concat(new Date(e.createdAt).toLocaleTimeString("pt-BR"))}),Object(Re.jsx)(sa.a,{align:"right",children:Object(Re.jsxs)(ua.a,{size:"small","aria-label":"small button group",children:[Object(Re.jsx)(S.a,{variant:"contained",color:"primary",href:"/admin/funcionarios/editar/"+e._id,children:"ATUALIZAR"}),Object(Re.jsx)(S.a,{variant:"contained",color:"secondary",onClick:d,children:Object(Re.jsx)(Lt.a,{})})]})})]},e.nome_usuario)]})}))})]})})})})]})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var Ja=a(362),Ka=a(385),Za=a(388),Ya=a(383),$a=Object(y.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(4)},paper:{padding:35,display:"flex",overflow:"auto",flexDirection:"column"},formControl:{width:"100%"},btnSuccess:{backgroundColor:"green",color:"#fff","&:hover":{backgroundColor:"#12b912"}}}}));function en(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],d=c[1],x=Object(n.useState)(""),m=Object(s.a)(x,2),f=m[0],O=m[1],g=Object(ma.b)(),v=g.enqueueSnackbar,w=(g.closeSnackbar,Object(n.useState)("")),k=Object(s.a)(w,2),y=k[0],C=k[1],B=Object(n.useState)(""),N=Object(s.a)(B,2),A=N[0],I=N[1],L=Object(l.useParams)().idFuncionario;function D(){return(D=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&o&&f&&y){e.next=2;break}return e.abrupt("return",v("Prencha todos os campos!",{variant:"warning"}));case 2:return t={nome_usuario:a,email_usuario:o,tipo_usuario:y,senha_usuario:f,foto_perfil:A},e.next=5,xt.put("/api/workers/"+L,t,{timeout:3e3}).then((function(){v("Atualiza\xe7\xe3o efetuada com sucesso!",{variant:"success"})})).catch((function(){return v("Erro, tente novamente mais tarde!",{variant:"error"})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+L);case 2:t=e.sent,a=t.data.Worker[0],console.log(a),r(a.nome_usuario),d(a.email_usuario),O(a.senha_usuario),C(a.tipo_usuario),I(a.foto_perfil);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t)),"3"!=ne()&&(window.location.href="/admin");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var F=$a();return Object(Re.jsxs)("div",{className:F.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Atualiza\xe7\xe3o de Funcion\xe1rios"}),Object(Re.jsxs)("main",{className:F.content,children:[Object(Re.jsx)("div",{className:F.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:F.container,children:[Object(Re.jsx)(ut.a,{children:Object(Re.jsx)(ut.a,{sm:12,children:Object(Re.jsxs)(Et.a,{className:F.paper,children:[Object(Re.jsx)("h2",{children:"Atualiza\xe7\xe3o de Funcion\xe1rios"}),Object(Re.jsxs)(ut.a,{container:!0,spacing:3,children:[Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:10,children:Object(Re.jsx)(tt.a,{required:!0,id:"nome",name:"nome",variant:"outlined",label:"Nome completo",fullWidth:!0,autoComplete:"nome",value:a,onChange:function(e){return r(e.target.value)}})}),Object(Re.jsx)("img",{src:A,style:{maxHeight:"100px",marginLeft:"4%",maxWidth:"100px",height:"100px",width:"100px"}}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(tt.a,{required:!0,id:"email",name:"email",label:"Email",variant:"outlined",fullWidth:!0,autoComplete:"email",value:o,onChange:function(e){return d(e.target.value)}})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:3,children:Object(Re.jsxs)(Ja.a,{className:F.formControl,children:[Object(Re.jsx)(Za.a,{id:"labelTipo",children:"Tipo"}),Object(Re.jsxs)(Ka.a,{labelId:"labelTipo",id:"tipo",variant:"outlined",value:y,onChange:function(e){return C(e.target.value)},children:[Object(Re.jsx)(Ya.a,{value:3,children:"Administrador"}),Object(Re.jsx)(Ya.a,{value:2,children:"Gerente"}),Object(Re.jsx)(Ya.a,{value:1,children:"Funcion\xe1rio"})]})]})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:3,children:Object(Re.jsx)(tt.a,{type:"password",required:!0,id:"senha",variant:"outlined",name:"senha",label:"Senha",fullWidth:!0,autoComplete:"senha",value:f,onChange:function(e){return O(e.target.value)}})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:12,children:Object(Re.jsx)(tt.a,{required:!0,id:"foto",name:"foto",label:"Foto de perfil",fullWidth:!0,variant:"outlined",autoComplete:"foto",value:A,onChange:function(e){return I(e.target.value)}})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:12,children:Object(Re.jsxs)(S.a,{variant:"contained",onClick:function(){return D.apply(this,arguments)},className:F.btnSuccess,children:[Object(Re.jsx)(xa.a,{}),"  Salvar"]})})]})]})})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var tn=Object(y.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(4)},paper:{padding:35,display:"flex",overflow:"auto",flexDirection:"column"},formControl:{width:"100%"},btnSuccess:{backgroundColor:"green",color:"#fff","&:hover":{backgroundColor:"#12b912"}}}}));function an(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(""),x=Object(s.a)(d,2),m=x[0],f=x[1],O=Object(n.useState)(""),g=Object(s.a)(O,2),v=g[0],w=g[1],k=Object(ma.b)(),y=k.enqueueSnackbar,C=(k.closeSnackbar,Object(n.useState)("")),B=Object(s.a)(C,2),N=B[0],A=B[1];function I(){r(""),l(""),f(""),w(""),A("")}function L(){return(L=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&o&&m&&v){e.next=2;break}return e.abrupt("return",y("Prencha todos os campos!",{variant:"warning"}));case 2:return e.prev=2,t={nome_usuario:a,email_usuario:o,senha_usuario:m,tipo_usuario:v,foto_perfil:N},console.log(t),e.next=7,xt.post("/api/workers",t);case 7:if(200!=e.sent.status){e.next=11;break}return I(),e.abrupt("return",y("Cadastro efetuado!",{variant:"success"}));case 11:e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(2),"Error: Request failed with status code 400"!=e.t0){e.next=20;break}return I(),e.abrupt("return",y("O cadastro j\xe1 existe!",{variant:"warning"}));case 20:return e.abrupt("return",y("Erro, tente novamente mais tarde!",{variant:"error"}));case 21:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t)),"3"!=ne()&&(window.location.href="/admin");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var D=tn();return Object(Re.jsxs)("div",{className:D.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Cadastro de Funcion\xe1rios"}),Object(Re.jsxs)("main",{className:D.content,children:[Object(Re.jsx)("div",{className:D.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:D.container,children:[Object(Re.jsx)(ut.a,{children:Object(Re.jsx)(ut.a,{sm:12,children:Object(Re.jsxs)(Et.a,{className:D.paper,children:[Object(Re.jsx)("h2",{children:"Cadastro de Funcion\xe1rios"}),Object(Re.jsxs)(ut.a,{container:!0,spacing:3,children:[Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:10,children:Object(Re.jsx)(tt.a,{required:!0,id:"nome",name:"nome",variant:"outlined",label:"Nome completo",fullWidth:!0,autoComplete:"nome",value:a,onChange:function(e){return r(e.target.value)}})}),Object(Re.jsx)("img",{src:N,style:{maxHeight:"100px",marginLeft:"4%",maxWidth:"100px",height:"100px",width:"100px"}}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(tt.a,{required:!0,id:"email",name:"email",label:"Email",variant:"outlined",fullWidth:!0,autoComplete:"email",value:o,onChange:function(e){return l(e.target.value)}})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:3,children:Object(Re.jsxs)(Ja.a,{className:D.formControl,children:[Object(Re.jsx)(Za.a,{id:"labelTipo",children:"Tipo"}),Object(Re.jsxs)(Ka.a,{labelId:"labelTipo",id:"tipo",variant:"outlined",value:v,onChange:function(e){return w(e.target.value)},children:[Object(Re.jsx)(Ya.a,{value:3,children:"Administrador"}),Object(Re.jsx)(Ya.a,{value:2,children:"Gerente"}),Object(Re.jsx)(Ya.a,{value:1,children:"Funcion\xe1rio"})]})]})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:3,children:Object(Re.jsx)(tt.a,{type:"password",required:!0,id:"senha",variant:"outlined",name:"senha",label:"Senha",fullWidth:!0,autoComplete:"senha",value:m,onChange:function(e){return f(e.target.value)}})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:12,children:Object(Re.jsx)(tt.a,{required:!0,id:"foto",name:"foto",label:"Foto de perfil",fullWidth:!0,variant:"outlined",autoComplete:"foto",value:N,onChange:function(e){return A(e.target.value)}})}),Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:12,children:Object(Re.jsxs)(S.a,{variant:"contained",onClick:function(){return L.apply(this,arguments)},className:D.btnSuccess,children:[Object(Re.jsx)(xa.a,{}),"  Salvar"]})})]})]})})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var nn="dark"==se()?"#006161":"#DCF8C6",rn="dark"==se()?"#3c3c3e":"#FFFFFF",cn=Object(y.a)((function(e){var t;return{sent:{width:"48%",marginTop:"5px",marginBottom:"5px",marginLeft:"50%",backgroundColor:nn},sentAudio:{width:"98%",marginTop:"5px",marginBottom:"5px",marginLeft:"2%",backgroundColor:nn},receivedAudio:{width:"98%",marginLeft:"0%",marginTop:"5px",marginBottom:"5px",backgroundColor:rn},sentImg:{width:"48%",marginTop:"5px",maxHeight:"50px",maxWidth:"150px",marginBottom:"5px",marginLeft:"50%",backgroundColor:nn},received:{width:"48%",marginLeft:"0%",marginTop:"5px",marginBottom:"5px",backgroundColor:rn},receivedImg:{width:"48%",maxHeight:"50px",marginTop:"5px",marginBottom:"5px",maxWidth:"150px",marginLeft:"0%",backgroundColor:rn},sentVideo:{width:"48%",marginTop:"5px",maxWidth:"150px",marginBottom:"5px",maxHeight:"50px",marginLeft:"50%",backgroundColor:nn},receivedVideo:(t={width:"48%",maxHeight:"50px",height:"100%"},Object(x.a)(t,"width","100%"),Object(x.a)(t,"maxWidth","150px"),Object(x.a)(t,"marginTop","5px"),Object(x.a)(t,"marginBottom","5px"),Object(x.a)(t,"marginLeft","0%"),Object(x.a)(t,"backgroundColor",rn),t),receivedSticker:{width:"48%",maxHeight:"50px",marginTop:"5px",marginBottom:"5px",maxWidth:"150px",marginLeft:"0%",backgroundColor:rn},sentSticker:{width:"48%",maxHeight:"50px",marginTop:"5px",marginBottom:"5px",maxWidth:"150px",marginLeft:"50%",backgroundColor:rn}}})),sn=a(134),on=a.n(sn),ln=a(205),dn=a.n(ln),un=(a(308),window.screen.width<=899||window.screen.height<=500?cn:Ct);var jn=function(){var e=Object(l.useHistory)(),t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],i=a[1],c=Object(l.useParams)().idChat,d=Object(n.useState)([]),p=Object(s.a)(d,2),b=p[0],h=p[1],x=Object(n.useState)(null),m=Object(s.a)(x,2),f=m[0],O=m[1],g=Object(n.useState)(!1),w=Object(s.a)(g,2),k=w[0],y=w[1],C=un(),B=window.screen.width<=899||window.screen.height<=500,I="dark"==se()?"wall-dark":"wall-light",L=function(){y(!1)};return Object(n.useEffect)((function(){function t(){return(t=Object(j.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xt.get("/api/clients/details/"+c);case 3:a=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.push("/admin/whatsapp");case 9:n=a.data.Client[0],i(n);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){dt.on("receiveMessages",(function(e){h(e)}))}),[]),Object(n.useEffect)((function(){dt.emit("requestMessages",{chatId:r.chatId})}),[r]),Object(n.useEffect)((function(){dt.on("newMessage",(function(e){e.from==r.chatId&&dt.emit("requestMessages",{chatId:r.chatId})})),dt.on("newMessageSent",(function(e){e.from==r.chatId&&dt.emit("requestMessages",{chatId:r.chatId})})),dt.on("newFile",(function(e){e.from==r.chatId&&(dt.emit("requestMessages",{chatId:r.chatId}),y(!1))}))}),[r]),Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(N.a,{open:k,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(Re.jsx)(xe.a,{id:"form-dialog-title",children:"Enviar Arquivo"}),Object(Re.jsx)(be.a,{children:Object(Re.jsx)("form",{children:Object(Re.jsx)("input",{type:"file",onChange:function(e){return O(e.target.files[0])}})})}),Object(Re.jsxs)(A.a,{children:[Object(Re.jsx)(S.a,{onClick:L,color:"primary",children:"Cancelar"}),Object(Re.jsx)(S.a,{onClick:function(){var e;console.log(f),(e=f,new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))).then(function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.type.split("/",1),n=(n=f.type.split("/",2))[1],"aplication"==a&&(a="document"),i={base64:t,type:a,numbers:r.chatId,ext:n,name:f.name,token:J()},e.next=7,xt.post("/api/whatsapp/message.doc?id=0",i).then((function(){return L}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},color:"primary",children:"Enviar"})]})]}),Object(Re.jsx)(ut.a,{container:!0,style:{overflow:"hidden"},children:Object(Re.jsx)(ut.a,{item:!0,xs:12,children:Object(Re.jsxs)(Et.a,{elevation:5,style:{width:"100%"},children:[Object(Re.jsx)(Rt.a,{avatar:Object(Re.jsx)(v.a,{"aria-label":"Recipe",src:r.profileUrl}),action:B?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(o.b,{to:"/admin/whatsapp",style:{textDecoration:"none"},children:Object(Re.jsx)(ve.a,{children:Object(Re.jsx)(on.a,{})})}),Object(Re.jsx)(ve.a,{onClick:function(){y(!0)},children:Object(Re.jsx)(wt.a,{})}),Object(Re.jsx)(ve.a,{onClick:Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={worker:Y(),name:ee()},void 0===r.firstAttendace){e.next=14;break}if(0!=r.firstAttendace){e.next=11;break}return a={numbers:r.chatId.replace("@c.us",""),worker:ee(),messages:"Seu atendimento foi finalizado com sucesso./:end:/Por favor nos avalie com uma nota de 0 a 10."},e.next=6,xt.put("/api/clients/"+r._id,t);case 6:return e.next=8,xt.post("/api/whatsapp/message?id=0",a);case 8:window.location.href="/admin/whatsapp",e.next=14;break;case 11:return e.next=13,xt.patch("/api/clients/first/?_id="+r._id,t);case 13:window.location.reload();case 14:case"end":return e.stop()}}),e)}))),children:r.firstAttendace?Object(Re.jsx)(gt.a,{}):Object(Re.jsx)(dn.a,{})})]}):Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)("h3",{children:"Modo de visualiza\xe7\xe3o"})}),title:r.fullName,subheader:void 0!=r.WorkerAttendance?"no-one"!=r.WorkerAttendance?"Sendo atendido por: ".concat(r.NameAttendance):"":"Selecione alguma conversa."}),Object(Re.jsx)(Ke.a,{cols:1,style:{marginTop:"0%",height:"100%",backgroundImage:"url(/".concat(I,".png)"),backgroundRepeat:"repeat-y",backgroundSize:"cover",backgroundPosition:"center"},children:Object(Re.jsx)(Wt.a,{style:{display:"flex",flexDirection:"column-reverse",height:B?"calc(72vh - 3vw)":"91.75vh",flexGrow:1,width:"100%",overflow:"auto"},children:Object(Re.jsx)(Wt.a,{children:b.map((function(e){switch(e.type){case"chat":return function(){var t=1==e.isServer?C.sent:C.received,a=new String(e.body);return Object(Re.jsx)(_t,{classe:t,author:e.author,message:a,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"image":return function(){var t=1==e.isServer?C.sentVideo:C.receivedVideo,a=B?"s":"w";return Object(Re.jsx)(Vt,{mobile:a,classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"ptt":return function(){var t=1==e.isServer?C.sentAudio:C.receivedAudio;return Object(Re.jsx)(Ut,{classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"audio":return function(){var t=1==e.isServer?C.sent:C.received;return Object(Re.jsx)(Ut,{a:!0,classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"video":return function(){var t=1==e.isServer?C.sentVideo:C.receivedVideo,a=B?"s":"w";return Object(Re.jsx)(Ht,{mobile:a,classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"sticker":return function(){var t=1==e.isServer?C.sentSticker:C.receivedSticker;return Object(Re.jsx)(Vt,{classe:t,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"document":return function(){var t=1==e.isServer?C.sent:C.received;return Object(Re.jsx)(Qt,{classe:t,name:e.fileName,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}();case"payment":return function(){var t=1==e.isServer?C.sent:C.received;return Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)(Xt,{classe:t,message:e,currency:e.currency,note:e.note,amount:e.amount,author:e.author,date:new Date(e.createdAt).toLocaleString("pt-BR")})})}();default:return function(){var t=1==e.isServer?C.sent:C.received;return Object(Re.jsx)(Qt,{classe:t,name:e.fileName,src:e.fileLink,date:new Date(e.createdAt).toLocaleString("pt-BR")})}()}}))})})})]})})}),B?Object(Re.jsx)("div",{style:{marginTop:"5%"},children:Object(Re.jsx)(ft,{number:r,worker:ee(),mobile:"s"})}):Object(Re.jsx)(Re.Fragment,{})]})},pn=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},burron:{height:"55px"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),bn=a(206),hn=a.n(bn);function xn(){var e=pn(),t=Object(n.useState)(0),a=Object(s.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)([]),l=Object(s.a)(o,2),d=l[0],x=l[1],m=r.a.useState(!1),f=Object(s.a)(m,2),O=f[0],g=f[1],v=function(){g(!1)};function w(e){x(e)}return Object(n.useEffect)((function(){dt.on("sessionChanged",(function(e){Object(j.a)(u.a.mark((function e(){var t,a,n,r,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/whatsapp/sessions");case 2:t=e.sent,a=t.data.numberOfSessions,n=[],r=0;case 6:if(!(r<a)){e.next=34;break}return e.next=9,xt.get("/api/whatsapp/sessions.details/"+r);case 9:return e.next=11,e.sent.data.started;case 11:if(i=e.sent,c=void 0,e.prev=13,1!=i){e.next=22;break}return e.next=17,xt.get("/api/whatsapp/device?id="+r);case 17:return e.next=19,e.sent.data.device.phone.device_model;case 19:e.t0=e.sent,e.next=23;break;case 22:e.t0="-";case 23:c=e.t0,e.next=29;break;case 26:e.prev=26,e.t1=e.catch(13),c="Aguardando...";case 29:s={Session:r,active:i,device:c},n.push(s);case 31:r++,e.next=6;break;case 34:w(n);case 35:case"end":return e.stop()}}),e,null,[[13,26]])})))(),v()}))}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/workers/details/"+Y());case 2:return e.next=4,e.sent.data.Worker[0].tipo_usuario;case 4:t=e.sent,ae("".concat(t)),"3"!=ne()&&(window.location.href="/admin");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t,a,n,r,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/whatsapp/sessions");case 2:t=e.sent,a=t.data.numberOfSessions,n=[],r=0;case 6:if(!(r<a)){e.next=35;break}return e.next=9,xt.get("/api/whatsapp/sessions.details/"+r);case 9:return e.next=11,e.sent.data.started;case 11:if(i=e.sent,c=void 0,void 0,e.prev=14,1!=i){e.next=23;break}return e.next=18,xt.get("/api/whatsapp/device?id="+r);case 18:return e.next=20,e.sent.data.device.phone.device_model;case 20:e.t0=e.sent,e.next=24;break;case 23:e.t0="-";case 24:c=e.t0,e.next=30;break;case 27:e.prev=27,e.t1=e.catch(14),c="Aguardando...";case 30:s={Session:r,active:i,device:c,alias:"Credencial Interna"},n.push(s);case 32:r++,e.next=6;break;case 35:w(n);case 36:case"end":return e.stop()}}),e,null,[[14,27]])})))()}),[]),Object(Re.jsxs)("div",{className:e.root,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(Ge,{name:"Sess\xf5es"}),Object(Re.jsxs)("main",{className:e.content,children:[Object(Re.jsx)("div",{className:e.appBarSpacer}),Object(Re.jsxs)(h.a,{maxWidth:"lg",className:e.container,children:[Object(Re.jsx)(N.a,{open:O,onClose:v,children:Object(Re.jsx)(be.a,{children:Object(Re.jsx)("iframe",{style:{height:"269px",width:"269px"},src:"/api/whatsapp/qrcode?id=".concat(i)})})}),Object(Re.jsx)(ut.a,{children:Object(Re.jsxs)(Et.a,{className:e.paper,children:[Object(Re.jsx)(ut.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",children:Object(Re.jsx)("h2",{children:"Controle da Sess\xe3o"})}),Object(Re.jsx)(ut.a,{container:!0,spacing:3,children:Object(Re.jsx)(ut.a,{item:!0,xs:12,sm:12,children:Object(Re.jsx)(oa.a,{component:Et.a,children:Object(Re.jsxs)(ia.a,{className:e.table,"aria-label":"simple table",children:[Object(Re.jsx)(la.a,{children:Object(Re.jsxs)(da.a,{children:[Object(Re.jsx)(sa.a,{children:"ID"}),Object(Re.jsx)(sa.a,{align:"center",children:"Status"}),Object(Re.jsx)(sa.a,{align:"center",children:"Aparelho"}),Object(Re.jsx)(sa.a,{align:"center",children:"Sess\xe3o DialogFlow"}),Object(Re.jsx)(sa.a,{align:"right",children:"Op\xe7\xf5es"})]})}),Object(Re.jsx)(ca.a,{children:d.map((function(e){return Object(Re.jsxs)(da.a,{children:[Object(Re.jsx)(sa.a,{children:e.Session}),Object(Re.jsx)(sa.a,{align:"center",children:e.active?Object(Re.jsx)(zt.a,{label:"Ativa",color:"primary"}):Object(Re.jsx)(zt.a,{label:"Inativa",disabled:!0})}),Object(Re.jsx)(sa.a,{align:"center",children:"-"!=e.device?"Aguardando..."!=e.device?Object(Re.jsx)(zt.a,{label:e.device,variant:"outlined",color:"primary"}):Object(Re.jsx)(zt.a,{label:e.device,variant:"outlined",color:"secondary"}):e.device}),Object(Re.jsx)(sa.a,{align:"center",children:""==e.alias?"Credencial Interna":e.alias}),Object(Re.jsx)(sa.a,{align:"right",children:Object(Re.jsxs)(ua.a,{size:"small","aria-label":"small button group",children:[e.active?Object(Re.jsxs)(S.a,{onClick:Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xt.delete("/api/whatsapp/sessions?id="+e.Session);case 2:return t.sent,t.abrupt("return","");case 4:case"end":return t.stop()}}),t)}))),children:["Desabilitar",Object(Re.jsx)(hn.a,{})]}):Object(Re.jsxs)(S.a,{onClick:Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xt.post("/api/whatsapp/sessions?id="+e.Session);case 2:return t.sent,t.abrupt("return","");case 4:case"end":return t.stop()}}),t)}))),children:["Habilitar",Object(Re.jsx)(Xe.a,{})]}),e.active?Object(Re.jsxs)(S.a,{onClick:function(){!function(e){c(e)}(e.Session),g(!0)},children:["QRCode",Object(Re.jsx)("img",{style:{height:"100%",paddingLeft:"3px"},src:"/qrcode.svg"})]}):Object(Re.jsx)(Re.Fragment,{})]})})]})}))})]})})})})]})}),Object(Re.jsx)(b.a,{pt:4,children:Object(Re.jsx)(_e,{})})]})]})]})}var mn=a(210),fn=a(212),On=a(384);function gn(e){var t=e.component,a=Object(mn.a)(e,["component"]),r=Object(n.useState)(!1),i=Object(s.a)(r,2),c=i[0],o=i[1],d=Object(n.useState)(!0),p=Object(s.a)(d,2),b=p[0],h=p[1],x=Object(ma.b)(),f=x.enqueueSnackbar,O=(x.closeSnackbar,new Audio("/notify.mp3"));return Object(n.useEffect)((function(){dt.on("newNotification",(function(e){f(e.message,{variant:e.type,title:e.title,autoHideDuration:e.timeOut,onClick:e.callback}),"true"==pe()&&O.play()})),Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.get("/api/login/checktoken/"+J());case 2:if(200==e.sent.data.status)try{h(!1),o(!1)}catch(t){K(),h(!1),o(!0)}else K(),h(!1),o(!0);case 4:case"end":return e.stop()}}),e)})))()}),[]),b?Object(Re.jsx)(fn.a,{open:!0,children:Object(Re.jsx)(On.a,{color:"inherit"})}):Object(Re.jsx)(l.Route,Object(m.a)(Object(m.a)({},a),{},{render:function(e){return c?Object(Re.jsx)(l.Redirect,{to:{pathname:"/admin/login",state:{from:e.location}}}):Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)(t,Object(m.a)({},e))})}}))}function vn(){return window.screen.width<=899||window.screen.height<=500?Object(Re.jsx)(Na,{}):Object(Re.jsx)(Jt,{})}function wn(){return Object(Re.jsx)(o.a,{children:Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)(ma.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},TransitionComponent:Aa.a,maxSnack:3,children:Object(Re.jsxs)(l.Switch,{children:[Object(Re.jsx)(gn,{path:"/",exact:!0,component:ba}),Object(Re.jsx)(gn,{path:"/admin",exact:!0,component:ea}),Object(Re.jsx)(l.Route,{path:"/admin/login",exact:!0,component:Fa}),Object(Re.jsx)(l.Route,{path:"/recovery.pass/:tokenUser",exact:!0,component:Va}),Object(Re.jsx)(gn,{path:"/admin/whatsapp",exact:!0,component:vn}),Object(Re.jsx)(gn,{path:"/admin/whatsapp/:idChat",exact:!0,component:jn}),Object(Re.jsx)(gn,{path:"/admin/pedidos",exact:!0,component:Ga}),Object(Re.jsx)(gn,{path:"/admin/contatos",exact:!0,component:ba}),Object(Re.jsx)(gn,{path:"/admin/contatos/cadastrar",exact:!0,component:va}),Object(Re.jsx)(gn,{path:"/admin/contatos/editar/:idUsuario",exact:!0,component:Oa}),Object(Re.jsx)(gn,{path:"/admin/funcionarios",exact:!0,component:Xa}),Object(Re.jsx)(gn,{path:"/admin/funcionarios/editar/:idFuncionario",exact:!0,component:en}),Object(Re.jsx)(gn,{path:"/admin/funcionarios/cadastrar",exact:!0,component:an}),Object(Re.jsx)(gn,{path:"/admin/sessions",exact:!0,component:xn}),Object(Re.jsx)(l.Route,{path:"*",exact:!0,children:Object(Re.jsx)(Ca,{})})]})})})})}var kn=a(207),Sn=a(365);var yn=function(){se()||ce("light");var e=Object(n.useState)("dark"==se()),t=Object(s.a)(e,2),a=t[0],r=(t[1],a?"dark":"light"),i=a?"#0287c3":"#3f51b5",c=Object(kn.a)({palette:{type:r,primary:{main:i},secondary:{main:"#f50057"}}});return Object(Re.jsx)("div",{className:"App",children:Object(Re.jsxs)(Sn.a,{theme:c,children:[Object(Re.jsx)(p.a,{}),Object(Re.jsx)(wn,{})]})})};"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)})).catch((function(e){console.log("ServiceWorker registration failed: ",e)}))})),c.a.render(Object(Re.jsx)(r.a.StrictMode,{children:Object(Re.jsx)(yn,{})}),document.getElementById("root"))}},[[309,1,2]]]);
//# sourceMappingURL=main.e9f2caa4.chunk.js.map